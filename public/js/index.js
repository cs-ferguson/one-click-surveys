(()=>{"use strict";var t,e=Object.defineProperty,n=(t,n,a)=>((t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a)(t,"symbol"!=typeof n?n+"":n,a),a=class{requestAnimationFrame(t){return requestAnimationFrame(t)}cancelAnimationFrame(t){cancelAnimationFrame(t)}},r=class{constructor(){n(this,"_lastHandleId",0),n(this,"_lastImmediate",null)}requestAnimationFrame(t){return this._lastHandleId>=Number.MAX_SAFE_INTEGER&&(this._lastHandleId=0),this._lastHandleId+=1,this._lastImmediate=setImmediate((()=>{t(Date.now())})),this._lastHandleId}cancelAnimationFrame(t){this._lastImmediate&&clearImmediate(this._lastImmediate)}},i=class{constructor(){n(this,"_strategy"),this._strategy="function"==typeof requestAnimationFrame?new a:new r}requestAnimationFrame(t){return this._strategy.requestAnimationFrame(t)}cancelAnimationFrame(t){this._strategy.cancelAnimationFrame(t)}},o=typeof window<"u"&&typeof window.document<"u",s=new Uint8Array([80,75,3,4]),h=["v","ip","op","layers","fr","w","h"],d="@lottiefiles/dotlottie-web",l="0.29.2",u=(t=typeof document<"u"?document.currentScript?.src:void 0,function(e={}){var n,a,r=e,i=new Promise(((t,e)=>{n=t,a=e})),o=Object.assign({},r),s="./this.program",h="";typeof document<"u"&&document.currentScript&&(h=document.currentScript.src),t&&(h=t),h=h.startsWith("blob:")?"":h.substr(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1);var d,l=r.print||console.log.bind(console),u=r.printErr||console.error.bind(console);Object.assign(r,o),o=null,r.thisProgram&&(s=r.thisProgram),r.wasmBinary&&(d=r.wasmBinary);var c,m,f,p,g,v,_,y,w,C=!1;function L(){var t=c.buffer;r.HEAP8=m=new Int8Array(t),r.HEAP16=p=new Int16Array(t),r.HEAPU8=f=new Uint8Array(t),r.HEAPU16=g=new Uint16Array(t),r.HEAP32=v=new Int32Array(t),r.HEAPU32=_=new Uint32Array(t),r.HEAPF32=y=new Float32Array(t),r.HEAPF64=w=new Float64Array(t)}var b=[],M=[],I=[];function F(){var t=r.preRun.shift();b.unshift(t)}var E=0,S=null;function P(t){throw r.onAbort?.(t),u(t="Aborted("+t+")"),C=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),a(t),t}var A,$=t=>t.startsWith("data:application/octet-stream;base64,");if(!$(A="DotLottiePlayer.wasm")){var k=A;A=r.locateFile?r.locateFile(k,h):h+k}function x(t){if(t==A&&d)return new Uint8Array(d);throw"both async and sync fetching of the wasm failed"}function D(t,e,n){return function(t){return d||"function"!=typeof fetch?Promise.resolve().then((()=>x(t))):fetch(t,{credentials:"same-origin"}).then((e=>{if(!e.ok)throw`failed to load wasm binary file at '${t}'`;return e.arrayBuffer()})).catch((()=>x(t)))}(t).then((t=>WebAssembly.instantiate(t,e))).then(n,(t=>{u(`failed to asynchronously prepare wasm: ${t}`),P(t)}))}var T=t=>{for(;0<t.length;)t.shift()(r)},W=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,O=(t,e,n)=>{var a=e+n;for(n=e;t[n]&&!(n>=a);)++n;if(16<n-e&&t.buffer&&W)return W.decode(t.subarray(e,n));for(a="";e<n;){var r=t[e++];if(128&r){var i=63&t[e++];if(192==(224&r))a+=String.fromCharCode((31&r)<<6|i);else{var o=63&t[e++];65536>(r=224==(240&r)?(15&r)<<12|i<<6|o:(7&r)<<18|i<<12|o<<6|63&t[e++])?a+=String.fromCharCode(r):(r-=65536,a+=String.fromCharCode(55296|r>>10,56320|1023&r))}}else a+=String.fromCharCode(r)}return a};class R{constructor(t){this.ya=t-24}}var j=t=>{for(var e=0,n=0;n<t.length;++n){var a=t.charCodeAt(n);127>=a?e++:2047>=a?e+=2:55296<=a&&57343>=a?(e+=4,++n):e+=3}return e},z=(t,e,n,a)=>{if(0<a){a=n+a-1;for(var r=0;r<t.length;++r){var i=t.charCodeAt(r);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&t.charCodeAt(++r)),127>=i){if(n>=a)break;e[n++]=i}else{if(2047>=i){if(n+1>=a)break;e[n++]=192|i>>6}else{if(65535>=i){if(n+2>=a)break;e[n++]=224|i>>12}else{if(n+3>=a)break;e[n++]=240|i>>18,e[n++]=128|i>>12&63}e[n++]=128|i>>6&63}e[n++]=128|63&i}}e[n]=0}},U={},B=t=>{for(;t.length;){var e=t.pop();t.pop()(e)}};function H(t){return this.fromWireType(_[t>>2])}var N,V,Y,J={},q={},G={},K=(t,e,n)=>{function a(e){if((e=n(e)).length!==t.length)throw new N("Mismatched type converter count");for(var a=0;a<t.length;++a)Q(t[a],e[a])}t.forEach((function(t){G[t]=e}));var r=Array(e.length),i=[],o=0;e.forEach(((t,e)=>{q.hasOwnProperty(t)?r[e]=q[t]:(i.push(t),J.hasOwnProperty(t)||(J[t]=[]),J[t].push((()=>{r[e]=q[t],++o===i.length&&a(r)})))})),0===i.length&&a(r)},X=t=>{for(var e="";f[t];)e+=V[f[t++]];return e};function Q(t,e,n={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");return function(t,e,n={}){var a=e.name;if(!t)throw new Y(`type "${a}" must have a positive integer typeid pointer`);if(q.hasOwnProperty(t)){if(n.ib)return;throw new Y(`Cannot register type '${a}' twice`)}q[t]=e,delete G[t],J.hasOwnProperty(t)&&(e=J[t],delete J[t],e.forEach((t=>t())))}(t,e,n)}var Z,tt=t=>{throw new Y(t.ma.za.xa.name+" instance already deleted")},et=!1,nt=()=>{},at=(t,e,n)=>e===n?t:void 0===n.Ca||null===(t=at(t,e,n.Ca))?null:n.ab(t),rt={},it=[],ot=()=>{for(;it.length;){var t=it.pop();t.ma.Ka=!1,t.delete()}},st={},ht=(t,e)=>{if(!e.za||!e.ya)throw new N("makeClassHandle requires ptr and ptrType");if(!!e.Da!=!!e.Aa)throw new N("Both smartPtrType and smartPtr must be specified");return e.count={value:1},dt(Object.create(t,{ma:{value:e,writable:!0}}))},dt=t=>typeof FinalizationRegistry>"u"?(dt=t=>t,t):(et=new FinalizationRegistry((t=>{--(t=t.ma).count.value,0===t.count.value&&(t.Aa?t.Da.Fa(t.Aa):t.za.xa.Fa(t.ya))})),nt=t=>{et.unregister(t)},(dt=t=>{var e=t.ma;return e.Aa&&et.register(t,{ma:e},t),t})(t));function lt(){}var ut=(t,e)=>Object.defineProperty(e,"name",{value:t}),ct=(t,e,n)=>{if(void 0===t[e].Ba){var a=t[e];t[e]=function(...a){if(!t[e].Ba.hasOwnProperty(a.length))throw new Y(`Function '${n}' called with an invalid number of arguments (${a.length}) - expects one of (${t[e].Ba})!`);return t[e].Ba[a.length].apply(this,a)},t[e].Ba=[],t[e].Ba[a.Oa]=a}},mt=(t,e,n)=>{if(r.hasOwnProperty(t)){if(void 0===n||void 0!==r[t].Ba&&void 0!==r[t].Ba[n])throw new Y(`Cannot register public name '${t}' twice`);if(ct(r,t,t),r.hasOwnProperty(n))throw new Y(`Cannot register multiple overloads of a function with the same number of arguments (${n})!`);r[t].Ba[n]=e}else r[t]=e,void 0!==n&&(r[t].vb=n)};function ft(t,e,n,a,r,i,o,s){this.name=t,this.constructor=e,this.La=n,this.Fa=a,this.Ca=r,this.cb=i,this.Na=o,this.ab=s,this.kb=[]}var pt=(t,e,n)=>{for(;e!==n;){if(!e.Na)throw new Y(`Expected null or instance of ${n.name}, got an instance of ${e.name}`);t=e.Na(t),e=e.Ca}return t};function gt(t,e){if(null===e){if(this.Ta)throw new Y(`null is not a valid ${this.name}`);return 0}if(!e.ma)throw new Y(`Cannot pass "${zt(e)}" as a ${this.name}`);if(!e.ma.ya)throw new Y(`Cannot pass deleted object as a pointer of type ${this.name}`);return pt(e.ma.ya,e.ma.za.xa,this.xa)}function vt(t,e){if(null===e){if(this.Ta)throw new Y(`null is not a valid ${this.name}`);if(this.Qa){var n=this.Ua();return null!==t&&t.push(this.Fa,n),n}return 0}if(!e||!e.ma)throw new Y(`Cannot pass "${zt(e)}" as a ${this.name}`);if(!e.ma.ya)throw new Y(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.Pa&&e.ma.za.Pa)throw new Y(`Cannot convert argument of type ${e.ma.Da?e.ma.Da.name:e.ma.za.name} to parameter type ${this.name}`);if(n=pt(e.ma.ya,e.ma.za.xa,this.xa),this.Qa){if(void 0===e.ma.Aa)throw new Y("Passing raw pointer to smart pointer is illegal");switch(this.pb){case 0:if(e.ma.Da!==this)throw new Y(`Cannot convert argument of type ${e.ma.Da?e.ma.Da.name:e.ma.za.name} to parameter type ${this.name}`);n=e.ma.Aa;break;case 1:n=e.ma.Aa;break;case 2:if(e.ma.Da===this)n=e.ma.Aa;else{var a=e.clone();n=this.lb(n,Wt((()=>a.delete()))),null!==t&&t.push(this.Fa,n)}break;default:throw new Y("Unsupporting sharing policy")}}return n}function _t(t,e){if(null===e){if(this.Ta)throw new Y(`null is not a valid ${this.name}`);return 0}if(!e.ma)throw new Y(`Cannot pass "${zt(e)}" as a ${this.name}`);if(!e.ma.ya)throw new Y(`Cannot pass deleted object as a pointer of type ${this.name}`);if(e.ma.za.Pa)throw new Y(`Cannot convert argument of type ${e.ma.za.name} to parameter type ${this.name}`);return pt(e.ma.ya,e.ma.za.xa,this.xa)}function yt(t,e,n,a,r,i,o,s,h,d,l){this.name=t,this.xa=e,this.Ta=n,this.Pa=a,this.Qa=r,this.jb=i,this.pb=o,this.Za=s,this.Ua=h,this.lb=d,this.Fa=l,r||void 0!==e.Ca?this.toWireType=vt:(this.toWireType=a?gt:_t,this.Ea=null)}var wt,Ct,Lt=(t,e,n)=>{if(!r.hasOwnProperty(t))throw new N("Replacing nonexistent public symbol");void 0!==r[t].Ba&&void 0!==n?r[t].Ba[n]=e:(r[t]=e,r[t].Oa=n)},bt=(t,e)=>{var n=(t=X(t)).includes("j")?((t,e)=>(...n)=>((t,e,n=[])=>(t.includes("j")?(t=t.replace(/p/g,"i"),e=(0,r["dynCall_"+t])(e,...n)):e=wt.get(e)(...n),e))(t,e,n))(t,e):wt.get(e);if("function"!=typeof n)throw new Y(`unknown function pointer with signature ${t}: ${e}`);return n},Mt=t=>{t=le(t);var e=X(t);return ue(t),e},It=(t,e)=>{var n=[],a={};throw e.forEach((function t(e){a[e]||q[e]||(G[e]?G[e].forEach(t):(n.push(e),a[e]=!0))})),new Ct(`${t}: `+n.map(Mt).join([", "]))},Ft=(t,e)=>{for(var n=[],a=0;a<t;a++)n.push(_[e+4*a>>2]);return n};function Et(t,e,n,a,r){var i=e.length;if(2>i)throw new Y("argTypes array size mismatch! Must at least get return value and 'this' types!");var o=null!==e[1]&&null!==n,s=function(t){for(var e=1;e<t.length;++e)if(null!==t[e]&&void 0===t[e].Ea)return!0;return!1}(e),h="void"!==e[0].name,d=i-2,l=Array(d),u=[],c=[];return ut(t,(function(...n){if(n.length!==d)throw new Y(`function ${t} called with ${n.length} arguments, expected ${d}`);if(c.length=0,u.length=o?2:1,u[0]=r,o){var i=e[1].toWireType(c,this);u[1]=i}for(var m=0;m<d;++m)l[m]=e[m+2].toWireType(c,n[m]),u.push(l[m]);if(n=a(...u),s)B(c);else for(m=o?1:2;m<e.length;m++){var f=1===m?i:l[m-2];null!==e[m].Ea&&e[m].Ea(f)}return h?e[0].fromWireType(n):void 0}))}var St,Pt,At,$t=t=>{let e=(t=t.trim()).indexOf("(");return-1!==e?t.substr(0,e):t},kt=[],xt=[],Dt=t=>{9<t&&0==--xt[t+1]&&(xt[t]=void 0,kt.push(t))},Tt=t=>{if(!t)throw new Y("Cannot use deleted val. handle = "+t);return xt[t]},Wt=t=>{switch(t){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:let e=kt.pop()||xt.length;return xt[e]=t,xt[e+1]=1,e}},Ot={name:"emscripten::val",fromWireType:t=>{var e=Tt(t);return Dt(t),e},toWireType:(t,e)=>Wt(e),argPackAdvance:8,readValueFromPointer:H,Ea:null},Rt=(t,e,n)=>{switch(e){case 1:return n?function(t){return this.fromWireType(m[t])}:function(t){return this.fromWireType(f[t])};case 2:return n?function(t){return this.fromWireType(p[t>>1])}:function(t){return this.fromWireType(g[t>>1])};case 4:return n?function(t){return this.fromWireType(v[t>>2])}:function(t){return this.fromWireType(_[t>>2])};default:throw new TypeError(`invalid integer width (${e}): ${t}`)}},jt=(t,e)=>{var n=q[t];if(void 0===n)throw t=`${e} has unknown type ${Mt(t)}`,new Y(t);return n},zt=t=>{if(null===t)return"null";var e=typeof t;return"object"===e||"array"===e||"function"===e?t.toString():""+t},Ut=(t,e)=>{switch(e){case 4:return function(t){return this.fromWireType(y[t>>2])};case 8:return function(t){return this.fromWireType(w[t>>3])};default:throw new TypeError(`invalid float width (${e}): ${t}`)}},Bt=(t,e,n)=>{switch(e){case 1:return n?t=>m[t]:t=>f[t];case 2:return n?t=>p[t>>1]:t=>g[t>>1];case 4:return n?t=>v[t>>2]:t=>_[t>>2];default:throw new TypeError(`invalid integer width (${e}): ${t}`)}},Ht=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Nt=(t,e)=>{for(var n=t>>1,a=n+e/2;!(n>=a)&&g[n];)++n;if(32<(n<<=1)-t&&Ht)return Ht.decode(f.subarray(t,n));for(n="",a=0;!(a>=e/2);++a){var r=p[t+2*a>>1];if(0==r)break;n+=String.fromCharCode(r)}return n},Vt=(t,e,n)=>{if(n??(n=2147483647),2>n)return 0;var a=e;n=(n-=2)<2*t.length?n/2:t.length;for(var r=0;r<n;++r)p[e>>1]=t.charCodeAt(r),e+=2;return p[e>>1]=0,e-a},Yt=t=>2*t.length,Jt=(t,e)=>{for(var n=0,a="";!(n>=e/4);){var r=v[t+4*n>>2];if(0==r)break;++n,65536<=r?(r-=65536,a+=String.fromCharCode(55296|r>>10,56320|1023&r)):a+=String.fromCharCode(r)}return a},qt=(t,e,n)=>{if(n??(n=2147483647),4>n)return 0;var a=e;n=a+n-4;for(var r=0;r<t.length;++r){var i=t.charCodeAt(r);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&t.charCodeAt(++r)),v[e>>2]=i,(e+=4)+4>n)break}return v[e>>2]=0,e-a},Gt=t=>{for(var e=0,n=0;n<t.length;++n){var a=t.charCodeAt(n);55296<=a&&57343>=a&&++n,e+=4}return e},Kt=[],Xt=Reflect.construct,Qt={},Zt=()=>{if(!St){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:s||"./this.program"};for(t in Qt)void 0===Qt[t]?delete e[t]:e[t]=Qt[t];var n=[];for(t in e)n.push(`${t}=${e[t]}`);St=n}return St},te=[null,[],[]],ee=t=>(ee=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return t=>crypto.getRandomValues(t);P("initRandomDevice")})())(t),ne=t=>t%4==0&&(t%100!=0||t%400==0),ae=[31,29,31,30,31,30,31,31,30,31,30,31],re=[31,28,31,30,31,30,31,31,30,31,30,31];N=r.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}};for(var ie=Array(256),oe=0;256>oe;++oe)ie[oe]=String.fromCharCode(oe);V=ie,Y=r.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Object.assign(lt.prototype,{isAliasOf:function(t){if(!(this instanceof lt&&t instanceof lt))return!1;var e=this.ma.za.xa,n=this.ma.ya;t.ma=t.ma;var a=t.ma.za.xa;for(t=t.ma.ya;e.Ca;)n=e.Na(n),e=e.Ca;for(;a.Ca;)t=a.Na(t),a=a.Ca;return e===a&&n===t},clone:function(){if(this.ma.ya||tt(this),this.ma.Ma)return this.ma.count.value+=1,this;var t=dt,e=Object,n=e.create,a=Object.getPrototypeOf(this),r=this.ma;return(t=t(n.call(e,a,{ma:{value:{count:r.count,Ka:r.Ka,Ma:r.Ma,ya:r.ya,za:r.za,Aa:r.Aa,Da:r.Da}}}))).ma.count.value+=1,t.ma.Ka=!1,t},delete(){if(this.ma.ya||tt(this),this.ma.Ka&&!this.ma.Ma)throw new Y("Object already scheduled for deletion");nt(this);var t=this.ma;--t.count.value,0===t.count.value&&(t.Aa?t.Da.Fa(t.Aa):t.za.xa.Fa(t.ya)),this.ma.Ma||(this.ma.Aa=void 0,this.ma.ya=void 0)},isDeleted:function(){return!this.ma.ya},deleteLater:function(){if(this.ma.ya||tt(this),this.ma.Ka&&!this.ma.Ma)throw new Y("Object already scheduled for deletion");return it.push(this),1===it.length&&Z&&Z(ot),this.ma.Ka=!0,this}}),r.getInheritedInstanceCount=()=>Object.keys(st).length,r.getLiveInheritedInstances=()=>{var t,e=[];for(t in st)st.hasOwnProperty(t)&&e.push(st[t]);return e},r.flushPendingDeletes=ot,r.setDelayFunction=t=>{Z=t,it.length&&Z&&Z(ot)},Object.assign(yt.prototype,{eb(t){return this.Za&&(t=this.Za(t)),t},Xa(t){this.Fa?.(t)},argPackAdvance:8,readValueFromPointer:H,fromWireType:function(t){function e(){return this.Qa?ht(this.xa.La,{za:this.jb,ya:n,Da:this,Aa:t}):ht(this.xa.La,{za:this,ya:t})}var n=this.eb(t);if(!n)return this.Xa(t),null;var a=((t,e)=>{if(void 0===e)throw new Y("ptr should not be undefined");for(;t.Ca;)e=t.Na(e),t=t.Ca;return st[e]})(this.xa,n);if(void 0!==a)return 0===a.ma.count.value?(a.ma.ya=n,a.ma.Aa=t,a.clone()):(a=a.clone(),this.Xa(t),a);if(a=this.xa.cb(n),!(a=rt[a]))return e.call(this);a=this.Pa?a.$a:a.pointerType;var r=at(n,this.xa,a.xa);return null===r?e.call(this):this.Qa?ht(a.xa.La,{za:a,ya:r,Da:this,Aa:t}):ht(a.xa.La,{za:a,ya:r})}}),Ct=r.UnboundTypeError=(Pt=Error,(At=ut("UnboundTypeError",(function(t){this.name="UnboundTypeError",this.message=t,void 0!==(t=Error(t).stack)&&(this.stack=this.toString()+"\n"+t.replace(/^Error(:[^\n]*)?\n/,""))}))).prototype=Object.create(Pt.prototype),At.prototype.constructor=At,At.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`},At),xt.push(0,1,void 0,1,null,1,!0,1,!1,1),r.count_emval_handles=()=>xt.length/2-5-kt.length;var se={c:(t,e,n,a)=>{P(`Assertion failed: ${t?O(f,t):""}, at: `+[e?e?O(f,e):"":"unknown filename",n,a?a?O(f,a):"":"unknown function"])},m:(t,e,n)=>{var a=new R(t);throw _[a.ya+16>>2]=0,_[a.ya+4>>2]=e,_[a.ya+8>>2]=n,t},B:function(){return 0},P:()=>{},M:()=>{},R:function(){return 0},N:()=>{},A:function(){},O:()=>{},v:t=>{var e=U[t];delete U[t];var n=e.Ua,a=e.Fa,r=e.Ya,i=r.map((t=>t.hb)).concat(r.map((t=>t.nb)));K([t],i,(t=>{var i={};return r.forEach(((e,n)=>{var a=t[n],o=e.fb,s=e.gb,h=t[n+r.length],d=e.mb,l=e.ob;i[e.bb]={read:t=>a.fromWireType(o(s,t)),write:(t,e)=>{var n=[];d(l,t,h.toWireType(n,e)),B(n)}}})),[{name:e.name,fromWireType:t=>{var e,n={};for(e in i)n[e]=i[e].read(t);return a(t),n},toWireType:(t,e)=>{for(var r in i)if(!(r in e))throw new TypeError(`Missing field: "${r}"`);var o=n();for(r in i)i[r].write(o,e[r]);return null!==t&&t.push(a,o),o},argPackAdvance:8,readValueFromPointer:H,Ea:a}]}))},I:()=>{},Y:(t,e,n,a)=>{Q(t,{name:e=X(e),fromWireType:function(t){return!!t},toWireType:function(t,e){return e?n:a},argPackAdvance:8,readValueFromPointer:function(t){return this.fromWireType(f[t])},Ea:null})},r:(t,e,n,a,r,i,o,s,h,d,l,u,c)=>{l=X(l),i=bt(r,i),s&&(s=bt(o,s)),d&&(d=bt(h,d)),c=bt(u,c);var m=(t=>{if(void 0===t)return"_unknown";var e=(t=t.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return 48<=e&&57>=e?`_${t}`:t})(l);mt(m,(function(){It(`Cannot construct ${l} due to unbound types`,[a])})),K([t,e,n],a?[a]:[],(e=>{if(e=e[0],a)var n=e.xa,r=n.La;else r=lt.prototype;e=ut(l,(function(...t){if(Object.getPrototypeOf(this)!==o)throw new Y("Use 'new' to construct "+l);if(void 0===u.Ha)throw new Y(l+" has no accessible constructor");var e=u.Ha[t.length];if(void 0===e)throw new Y(`Tried to invoke ctor of ${l} with invalid number of parameters (${t.length}) - expected (${Object.keys(u.Ha).toString()}) parameters instead!`);return e.apply(this,t)}));var o=Object.create(r,{constructor:{value:e}});e.prototype=o;var h,u=new ft(l,e,o,c,n,i,s,d);return u.Ca&&((h=u.Ca).Wa??(h.Wa=[]),u.Ca.Wa.push(u)),n=new yt(l,u,!0,!1,!1),h=new yt(l+"*",u,!1,!1,!1),r=new yt(l+" const*",u,!1,!0,!1),rt[t]={pointerType:h,$a:r},Lt(m,e),[n,h,r]}))},q:(t,e,n,a,r,i)=>{var o=Ft(e,n);r=bt(a,r),K([],[t],(t=>{var n=`constructor ${(t=t[0]).name}`;if(void 0===t.xa.Ha&&(t.xa.Ha=[]),void 0!==t.xa.Ha[e-1])throw new Y(`Cannot register multiple constructors with identical number of parameters (${e-1}) for class '${t.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return t.xa.Ha[e-1]=()=>{It(`Cannot construct ${t.name} due to unbound types`,o)},K([],o,(a=>(a.splice(1,0,null),t.xa.Ha[e-1]=Et(n,a,null,r,i),[]))),[]}))},f:(t,e,n,a,r,i,o,s)=>{var h=Ft(n,a);e=X(e),e=$t(e),i=bt(r,i),K([],[t],(t=>{function a(){It(`Cannot call ${r} due to unbound types`,h)}var r=`${(t=t[0]).name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]),s&&t.xa.kb.push(e);var d=t.xa.La,l=d[e];return void 0===l||void 0===l.Ba&&l.className!==t.name&&l.Oa===n-2?(a.Oa=n-2,a.className=t.name,d[e]=a):(ct(d,e,r),d[e].Ba[n-2]=a),K([],h,(a=>(a=Et(r,a,t,i,o),void 0===d[e].Ba?(a.Oa=n-2,d[e]=a):d[e].Ba[n-2]=a,[]))),[]}))},X:t=>Q(t,Ot),x:(t,e,n,a)=>{function r(){}e=X(e),r.values={},Q(t,{name:e,constructor:r,fromWireType:function(t){return this.constructor.values[t]},toWireType:(t,e)=>e.value,argPackAdvance:8,readValueFromPointer:Rt(e,n,a),Ea:null}),mt(e,r)},k:(t,e,n)=>{var a=jt(t,"enum");e=X(e),t=a.constructor,a=Object.create(a.constructor.prototype,{value:{value:n},constructor:{value:ut(`${a.name}_${e}`,(function(){}))}}),t.values[n]=a,t[e]=a},C:(t,e,n)=>{Q(t,{name:e=X(e),fromWireType:t=>t,toWireType:(t,e)=>e,argPackAdvance:8,readValueFromPointer:Ut(e,n),Ea:null})},E:(t,e,n,a,r,i)=>{var o=Ft(e,n);t=X(t),t=$t(t),r=bt(a,r),mt(t,(function(){It(`Cannot call ${t} due to unbound types`,o)}),e-1),K([],o,(n=>(Lt(t,Et(t,[n[0],null].concat(n.slice(1)),null,r,i),e-1),[])))},l:(t,e,n,a,r)=>{if(e=X(e),-1===r&&(r=4294967295),r=t=>t,0===a){var i=32-8*n;r=t=>t<<i>>>i}var o=e.includes("unsigned")?function(t,e){return e>>>0}:function(t,e){return e};Q(t,{name:e,fromWireType:r,toWireType:o,argPackAdvance:8,readValueFromPointer:Bt(e,n,0!==a),Ea:null})},g:(t,e,n)=>{function a(t){return new r(m.buffer,_[t+4>>2],_[t>>2])}var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];Q(t,{name:n=X(n),fromWireType:a,argPackAdvance:8,readValueFromPointer:a},{ib:!0})},w:t=>{Q(t,Ot)},ca:(t,e,n,a,r,i,o,s,h,d,l,u)=>{n=X(n),i=bt(r,i),s=bt(o,s),d=bt(h,d),u=bt(l,u),K([t],[e],(t=>(t=t[0],[new yt(n,t.xa,!1,!1,!0,t,a,i,s,d,u)])))},D:(t,e)=>{var n="std::string"===(e=X(e));Q(t,{name:e,fromWireType:function(t){var e=_[t>>2],a=t+4;if(n)for(var r=a,i=0;i<=e;++i){var o=a+i;if(i==e||0==f[o]){if(r=r?O(f,r,o-r):"",void 0===s)var s=r;else s+="\0",s+=r;r=o+1}}else{for(s=Array(e),i=0;i<e;++i)s[i]=String.fromCharCode(f[a+i]);s=s.join("")}return ue(t),s},toWireType:function(t,e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var a="string"==typeof e;if(!(a||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array))throw new Y("Cannot pass non-string to std::string");var r=n&&a?j(e):e.length,i=de(4+r+1),o=i+4;if(_[i>>2]=r,n&&a)z(e,f,o,r+1);else if(a)for(a=0;a<r;++a){var s=e.charCodeAt(a);if(255<s)throw ue(o),new Y("String has UTF-16 code units that do not fit in 8 bits");f[o+a]=s}else for(a=0;a<r;++a)f[o+a]=e[a];return null!==t&&t.push(ue,i),i},argPackAdvance:8,readValueFromPointer:H,Ea(t){ue(t)}})},u:(t,e,n)=>{if(n=X(n),2===e)var a=Nt,r=Vt,i=Yt,o=t=>g[t>>1];else 4===e&&(a=Jt,r=qt,i=Gt,o=t=>_[t>>2]);Q(t,{name:n,fromWireType:t=>{for(var n,r=_[t>>2],i=t+4,s=0;s<=r;++s){var h=t+4+s*e;(s==r||0==o(h))&&(i=a(i,h-i),void 0===n?n=i:(n+="\0",n+=i),i=h+e)}return ue(t),n},toWireType:(t,a)=>{if("string"!=typeof a)throw new Y(`Cannot pass non-string to C++ string type ${n}`);var o=i(a),s=de(4+o+e);return _[s>>2]=o/e,r(a,s+4,o+e),null!==t&&t.push(ue,s),s},argPackAdvance:8,readValueFromPointer:H,Ea(t){ue(t)}})},s:(t,e,n,a,r,i)=>{U[t]={name:X(e),Ua:bt(n,a),Fa:bt(r,i),Ya:[]}},j:(t,e,n,a,r,i,o,s,h,d)=>{U[t].Ya.push({bb:X(e),hb:n,fb:bt(a,r),gb:i,nb:o,mb:bt(s,h),ob:d})},Z:(t,e)=>{Q(t,{ub:!0,name:e=X(e),argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},J:()=>{throw 1/0},aa:(t,e,n,a)=>(t=Kt[t])(null,e=Tt(e),n,a),F:Dt,$:(t,e,n)=>{var a=((t,e)=>{for(var n=Array(t),a=0;a<t;++a)n[a]=jt(_[e+4*a>>2],"parameter "+a);return n})(t,e),r=a.shift();t--;var i=Array(t);return e=`methodCaller<(${a.map((t=>t.name)).join(", ")}) => ${r.name}>`,(t=>{var e=Kt.length;return Kt.push(t),e})(ut(e,((e,o,s,h)=>{for(var d=0,l=0;l<t;++l)i[l]=a[l].readValueFromPointer(h+d),d+=a[l].argPackAdvance;return o=1===n?Xt(o,i):o.apply(e,i),e=[],o=r.toWireType(e,o),e.length&&(_[s>>2]=Wt(e)),o})))},ba:t=>{9<t&&(xt[t+1]+=1)},_:t=>{var e=Tt(t);B(e),Dt(t)},o:(t,e)=>(t=(t=jt(t,"_emval_take_value")).readValueFromPointer(e),Wt(t)),W:()=>{P("")},V:()=>performance.now(),L:t=>{var e=f.length;if(2147483648<(t>>>=0))return!1;for(var n=1;4>=n;n*=2){var a=e*(1+.2/n);a=Math.min(a,t+100663296);var r=Math;a=Math.max(t,a);t:{r=(r.min.call(r,2147483648,a+(65536-a%65536)%65536)-c.buffer.byteLength+65535)/65536;try{c.grow(r),L();var i=1;break t}catch{}i=void 0}if(i)return!0}return!1},S:(t,e)=>{var n=0;return Zt().forEach(((a,r)=>{var i=e+n;for(r=_[t+4*r>>2]=i,i=0;i<a.length;++i)m[r++]=a.charCodeAt(i);m[r]=0,n+=a.length+1})),0},T:(t,e)=>{var n=Zt();_[t>>2]=n.length;var a=0;return n.forEach((t=>a+=t.length+1)),_[e>>2]=a,0},t:()=>52,z:()=>52,H:function(){return 70},Q:(t,e,n,a)=>{for(var r=0,i=0;i<n;i++){var o=_[e>>2],s=_[e+4>>2];e+=8;for(var h=0;h<s;h++){var d=f[o+h],c=te[t];0===d||10===d?((1===t?l:u)(O(c,0)),c.length=0):c.push(d)}r+=s}return _[a>>2]=r,0},U:(t,e)=>(ee(f.subarray(t,t+e)),0),i:function(t,e){var n=fe();try{return wt.get(t)(e)}catch(t){if(me(n),t!==t+0)throw t;ce(1,0)}},d:function(t,e,n){var a=fe();try{return wt.get(t)(e,n)}catch(t){if(me(a),t!==t+0)throw t;ce(1,0)}},e:function(t,e,n,a){var r=fe();try{return wt.get(t)(e,n,a)}catch(t){if(me(r),t!==t+0)throw t;ce(1,0)}},p:function(t,e,n,a,r,i){var o=fe();try{return wt.get(t)(e,n,a,r,i)}catch(t){if(me(o),t!==t+0)throw t;ce(1,0)}},y:function(t){var e=fe();try{wt.get(t)()}catch(t){if(me(e),t!==t+0)throw t;ce(1,0)}},b:function(t,e){var n=fe();try{wt.get(t)(e)}catch(t){if(me(n),t!==t+0)throw t;ce(1,0)}},a:function(t,e,n){var a=fe();try{wt.get(t)(e,n)}catch(t){if(me(a),t!==t+0)throw t;ce(1,0)}},h:function(t,e,n,a){var r=fe();try{wt.get(t)(e,n,a)}catch(t){if(me(r),t!==t+0)throw t;ce(1,0)}},n:function(t,e,n,a,r){var i=fe();try{wt.get(t)(e,n,a,r)}catch(t){if(me(i),t!==t+0)throw t;ce(1,0)}},G:function(t,e,n,a,r,i){var o=fe();try{ge(t,e,n,a,r,i)}catch(t){if(me(o),t!==t+0)throw t;ce(1,0)}},K:(t,e,n,a)=>((t,e,n,a)=>{function r(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function i(t,e){return r(t,e,"0")}function o(t,e){function n(t){return 0>t?-1:0<t?1:0}var a;return 0===(a=n(t.getFullYear()-e.getFullYear()))&&0===(a=n(t.getMonth()-e.getMonth()))&&(a=n(t.getDate()-e.getDate())),a}function s(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function h(t){var e=t.Ia;for(t=new Date(new Date(t.Ja+1900,0,1).getTime());0<e;){var n=t.getMonth(),a=(ne(t.getFullYear())?ae:re)[n];if(!(e>a-t.getDate())){t.setDate(t.getDate()+e);break}e-=a-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=s(new Date(t.getFullYear(),0,4)),n=s(n),0>=o(e,t)?0>=o(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var d=_[a+40>>2];for(var l in a={sb:v[a>>2],rb:v[a+4>>2],Ra:v[a+8>>2],Va:v[a+12>>2],Sa:v[a+16>>2],Ja:v[a+20>>2],Ga:v[a+24>>2],Ia:v[a+28>>2],wb:v[a+32>>2],qb:v[a+36>>2],tb:d&&d?O(f,d):""},n=n?O(f,n):"",d={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),d[l]);var u="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),c="January February March April May June July August September October November December".split(" ");for(l in d={"%a":t=>u[t.Ga].substring(0,3),"%A":t=>u[t.Ga],"%b":t=>c[t.Sa].substring(0,3),"%B":t=>c[t.Sa],"%C":t=>i((t.Ja+1900)/100|0,2),"%d":t=>i(t.Va,2),"%e":t=>r(t.Va,2," "),"%g":t=>h(t).toString().substring(2),"%G":h,"%H":t=>i(t.Ra,2),"%I":t=>(0==(t=t.Ra)?t=12:12<t&&(t-=12),i(t,2)),"%j":t=>{for(var e=0,n=0;n<=t.Sa-1;e+=(ne(t.Ja+1900)?ae:re)[n++]);return i(t.Va+e,3)},"%m":t=>i(t.Sa+1,2),"%M":t=>i(t.rb,2),"%n":()=>"\n","%p":t=>0<=t.Ra&&12>t.Ra?"AM":"PM","%S":t=>i(t.sb,2),"%t":()=>"\t","%u":t=>t.Ga||7,"%U":t=>i(Math.floor((t.Ia+7-t.Ga)/7),2),"%V":t=>{var e=Math.floor((t.Ia+7-(t.Ga+6)%7)/7);if(2>=(t.Ga+371-t.Ia-2)%7&&e++,e)53==e&&(4==(n=(t.Ga+371-t.Ia)%7)||3==n&&ne(t.Ja)||(e=1));else{e=52;var n=(t.Ga+7-t.Ia-1)%7;(4==n||5==n&&ne(t.Ja%400-1))&&e++}return i(e,2)},"%w":t=>t.Ga,"%W":t=>i(Math.floor((t.Ia+7-(t.Ga+6)%7)/7),2),"%y":t=>(t.Ja+1900).toString().substring(2),"%Y":t=>t.Ja+1900,"%z":t=>(0<=(t=t.qb)?"+":"-")+("0000"+((t=Math.abs(t)/60)/60*100+t%60)).slice(-4),"%Z":t=>t.tb,"%%":()=>"%"},n=n.replace(/%%/g,"\0\0"),d)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),d[l](a)));return l=function(t){var e=Array(j(t)+1);return z(t,e,0,e.length),e}(n=n.replace(/\0\0/g,"%")),l.length>e?0:(m.set(l,t),l.length-1)})(t,e,n,a)},he=function(){function t(t){return he=t.exports,c=he.da,L(),wt=he.ha,M.unshift(he.ea),E--,r.monitorRunDependencies?.(E),0==E&&S&&(t=S,S=null,t()),he}var e={a:se};if(E++,r.monitorRunDependencies?.(E),r.instantiateWasm)try{return r.instantiateWasm(e,t)}catch(t){u(`Module.instantiateWasm callback failed with error: ${t}`),a(t)}return function(t,e){var n=A;return d||"function"!=typeof WebAssembly.instantiateStreaming||$(n)||"function"!=typeof fetch?D(n,t,e):fetch(n,{credentials:"same-origin"}).then((a=>WebAssembly.instantiateStreaming(a,t).then(e,(function(a){return u(`wasm streaming compile failed: ${a}`),u("falling back to ArrayBuffer instantiation"),D(n,t,e)}))))}(e,(function(e){t(e.instance)})).catch(a),{}}(),de=t=>(de=he.fa)(t),le=t=>(le=he.ga)(t),ue=t=>(ue=he.ia)(t),ce=(t,e)=>(ce=he.ja)(t,e),me=t=>(me=he.ka)(t),fe=()=>(fe=he.la)();r.dynCall_iijj=(t,e,n,a,i,o)=>(r.dynCall_iijj=he.na)(t,e,n,a,i,o),r.dynCall_vijj=(t,e,n,a,i,o)=>(r.dynCall_vijj=he.oa)(t,e,n,a,i,o),r.dynCall_jiii=(t,e,n,a)=>(r.dynCall_jiii=he.pa)(t,e,n,a),r.dynCall_jii=(t,e,n)=>(r.dynCall_jii=he.qa)(t,e,n);var pe,ge=r.dynCall_viiij=(t,e,n,a,i,o)=>(ge=r.dynCall_viiij=he.ra)(t,e,n,a,i,o);function ve(){function t(){if(!pe&&(pe=!0,r.calledRun=!0,!C)){if(T(M),n(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),r.postRun)for("function"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;){var t=r.postRun.shift();I.unshift(t)}T(I)}}if(!(0<E)){if(r.preRun)for("function"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)F();T(b),0<E||(r.setStatus?(r.setStatus("Running..."),setTimeout((function(){setTimeout((function(){r.setStatus("")}),1),t()}),1)):t())}}if(r.dynCall_jiji=(t,e,n,a,i)=>(r.dynCall_jiji=he.sa)(t,e,n,a,i),r.dynCall_viijii=(t,e,n,a,i,o,s)=>(r.dynCall_viijii=he.ta)(t,e,n,a,i,o,s),r.dynCall_iiiiij=(t,e,n,a,i,o,s)=>(r.dynCall_iiiiij=he.ua)(t,e,n,a,i,o,s),r.dynCall_iiiiijj=(t,e,n,a,i,o,s,h,d)=>(r.dynCall_iiiiijj=he.va)(t,e,n,a,i,o,s,h,d),r.dynCall_iiiiiijj=(t,e,n,a,i,o,s,h,d,l)=>(r.dynCall_iiiiiijj=he.wa)(t,e,n,a,i,o,s,h,d,l),S=function t(){pe||ve(),pe||(S=t)},r.preInit)for("function"==typeof r.preInit&&(r.preInit=[r.preInit]);0<r.preInit.length;)r.preInit.pop()();return ve(),i}),c=class{constructor(){throw new Error("RendererLoader is a static class and cannot be instantiated.")}static async _tryLoad(t){return await u({locateFile:()=>t})}static async _loadWithBackup(){return this._ModulePromise||(this._ModulePromise=this._tryLoad(this._wasmURL).catch((async t=>{let e=`https://unpkg.com/${d}@${l}/dist/dotlottie-player.wasm`;console.warn(`Primary WASM load failed from ${this._wasmURL}. Error: ${t.message}`),console.warn(`Attempting to load WASM from backup URL: ${e}`);try{return await this._tryLoad(e)}catch(e){throw console.error(`Primary WASM URL failed: ${t.message}`),console.error(`Backup WASM URL failed: ${e.message}`),new Error("WASM loading failed from all sources.")}}))),this._ModulePromise}static async load(){return this._loadWithBackup()}static setWasmUrl(t){this._wasmURL=t,this._ModulePromise=null}};n(c,"_ModulePromise",null),n(c,"_wasmURL",`https://cdn.jsdelivr.net/npm/${d}@${l}/dist/dotlottie-player.wasm`);var m=class{constructor(){n(this,"_eventListeners",new Map)}addEventListener(t,e){let n=this._eventListeners.get(t);n||(n=new Set,this._eventListeners.set(t,n)),n.add(e)}removeEventListener(t,e){let n=this._eventListeners.get(t);n&&(e?(n.delete(e),0===n.size&&this._eventListeners.delete(t)):this._eventListeners.delete(t))}dispatch(t){this._eventListeners.get(t.type)?.forEach((e=>e(t)))}removeAllEventListeners(){this._eventListeners.clear()}};function f(t){if(!function(t){return/^#([\da-f]{6}|[\da-f]{8})$/iu.test(t)}(t))return 0;let e=t.replace("#","");return e=6===e.length?`${e}ff`:e,parseInt(e,16)}function p(t){if(t.byteLength<4)return!1;let e=new Uint8Array(t.slice(0,s.byteLength));for(let t=0;t<s.length;t+=1)if(s[t]!==e[t])return!1;return!0}function g(t){return h.every((e=>Object.prototype.hasOwnProperty.call(t,e)))}function v(t){if("string"!=typeof t)return g(t);try{return g(JSON.parse(t))}catch{return!1}}var _=(t,e)=>"reverse"===t?e.Mode.Reverse:"bounce"===t?e.Mode.Bounce:"reverse-bounce"===t?e.Mode.ReverseBounce:e.Mode.Forward,y=(t,e)=>"contain"===t?e.Fit.Contain:"cover"===t?e.Fit.Cover:"fill"===t?e.Fit.Fill:"fit-height"===t?e.Fit.FitHeight:"fit-width"===t?e.Fit.FitWidth:e.Fit.None,w=(t,e)=>{let n=new e.VectorFloat;return n.push_back(t[0]),n.push_back(t[1]),n},C=(t,e)=>{let n=new e.VectorFloat;return 2!==t.length||(n.push_back(t[0]),n.push_back(t[1])),n},L=class t{constructor(e){n(this,"_canvas"),n(this,"_context",null),n(this,"_eventManager"),n(this,"_animationFrameId",null),n(this,"_frameManager"),n(this,"_dotLottieCore",null),n(this,"_renderConfig",{}),n(this,"_isFrozen",!1),n(this,"_backgroundColor",null),this._canvas=e.canvas,this._context=this._canvas.getContext("2d"),this._eventManager=new m,this._frameManager=new i,this._renderConfig=e.renderConfig??{},c.load().then((n=>{t._wasmModule=n,this._dotLottieCore=new n.DotLottiePlayer({autoplay:e.autoplay??!1,backgroundColor:0,loopAnimation:e.loop??!1,mode:_(e.mode??"forward",n),segment:C(e.segment??[],n),speed:e.speed??1,useFrameInterpolation:e.useFrameInterpolation??!0,marker:e.marker??"",layout:e.layout?{align:w(e.layout.align,n),fit:y(e.layout.fit,n)}:n.createDefaultLayout()}),this._eventManager.dispatch({type:"ready"}),e.data?this._loadFromData(e.data):e.src&&this._loadFromSrc(e.src),e.backgroundColor&&this.setBackgroundColor(e.backgroundColor)})).catch((t=>{this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to load wasm module: ${t}`)})}))}_dispatchError(t){console.error(t),this._eventManager.dispatch({type:"loadError",error:new Error(t)})}async _fetchData(t){let e=await fetch(t);if(!e.ok)throw new Error(`Failed to fetch animation data from URL: ${t}. ${e.status}: ${e.statusText}`);let n=await e.arrayBuffer();return p(n)?n:(new TextDecoder).decode(n)}_loadFromData(t){if(null===this._dotLottieCore)return;let e=this._canvas.width,n=this._canvas.height,a=!1;if("string"==typeof t){if(!v(t))return void this._dispatchError("Invalid Lottie JSON string: The provided string does not conform to the Lottie JSON format.");a=this._dotLottieCore.loadAnimationData(t,e,n)}else if(t instanceof ArrayBuffer){if(!p(t))return void this._dispatchError("Invalid dotLottie ArrayBuffer: The provided ArrayBuffer does not conform to the dotLottie format.");a=this._dotLottieCore.loadDotLottieData(t,e,n)}else{if("object"!=typeof t)return void this._dispatchError("Unsupported data type for animation data. Expected: \n          - string (Lottie JSON),\n          - ArrayBuffer (dotLottie),\n          - object (Lottie JSON). \n          Received: "+typeof t);if(!v(t))return void this._dispatchError("Invalid Lottie JSON object: The provided object does not conform to the Lottie JSON format.");a=this._dotLottieCore.loadAnimationData(JSON.stringify(t),e,n)}a?(this._eventManager.dispatch({type:"load"}),o&&this.resize(),this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render(),this._dotLottieCore.config().autoplay&&(this._dotLottieCore.play(),this._dotLottieCore.isPlaying()?(this._eventManager.dispatch({type:"play"}),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this))):console.error("something went wrong, the animation was suppose to autoplay"))):this._dispatchError("Failed to load animation data")}_loadFromSrc(t){this._fetchData(t).then((t=>this._loadFromData(t))).catch((e=>this._dispatchError(`Failed to load animation data from URL: ${t}. ${e}`)))}get activeAnimationId(){return this._dotLottieCore?.activeAnimationId()}get activeThemeId(){return this._dotLottieCore?.activeThemeId()}get layout(){let e=this._dotLottieCore?.config().layout;if(e)return{align:[e.align.get(0),e.align.get(1)],fit:(()=>{switch(e.fit){case t._wasmModule?.Fit.Contain:return"contain";case t._wasmModule?.Fit.Cover:return"cover";case t._wasmModule?.Fit.Fill:return"fill";case t._wasmModule?.Fit.FitHeight:return"fit-height";case t._wasmModule?.Fit.FitWidth:return"fit-width";case t._wasmModule?.Fit.None:return"none";default:return"contain"}})()}}get marker(){return this._dotLottieCore?.config().marker}get manifest(){try{let t=this._dotLottieCore?.manifestString();if(null===this._dotLottieCore||!t)return null;let e=JSON.parse(t);return 0===Object.keys(e).length?null:e}catch{return null}}get renderConfig(){return this._renderConfig}get segment(){let t=this._dotLottieCore?.config().segment;if(t&&2===t.size())return[t.get(0),t.get(1)]}get loop(){return this._dotLottieCore?.config().loopAnimation??!1}get mode(){let e=this._dotLottieCore?.config().mode;return e===t._wasmModule?.Mode.Reverse?"reverse":e===t._wasmModule?.Mode.Bounce?"bounce":e===t._wasmModule?.Mode.ReverseBounce?"reverse-bounce":"forward"}get isFrozen(){return this._isFrozen}get backgroundColor(){return this._backgroundColor??""}get autoplay(){return this._dotLottieCore?.config().autoplay??!1}get useFrameInterpolation(){return this._dotLottieCore?.config().useFrameInterpolation??!1}get speed(){return this._dotLottieCore?.config().speed??0}get isReady(){return null!==this._dotLottieCore}get isLoaded(){return this._dotLottieCore?.isLoaded()??!1}get isPlaying(){return this._dotLottieCore?.isPlaying()??!1}get isPaused(){return this._dotLottieCore?.isPaused()??!1}get isStopped(){return this._dotLottieCore?.isStopped()??!1}get currentFrame(){return this._dotLottieCore?.currentFrame()??0}get loopCount(){return this._dotLottieCore?.loopCount()??0}get totalFrames(){return this._dotLottieCore?.totalFrames()??0}get duration(){return this._dotLottieCore?.duration()??0}get segmentDuration(){return this._dotLottieCore?.segmentDuration()??0}get canvas(){return this._canvas}load(e){null===this._dotLottieCore||null===t._wasmModule||(this._dotLottieCore.setConfig({autoplay:e.autoplay??!1,backgroundColor:0,loopAnimation:e.loop??!1,mode:_(e.mode??"forward",t._wasmModule),segment:C(e.segment??[],t._wasmModule),speed:e.speed??1,useFrameInterpolation:e.useFrameInterpolation??!0,marker:e.marker??"",layout:e.layout?{align:w(e.layout.align,t._wasmModule),fit:y(e.layout.fit,t._wasmModule)}:t._wasmModule.createDefaultLayout()}),e.data?this._loadFromData(e.data):e.src&&this._loadFromSrc(e.src),this.setBackgroundColor(e.backgroundColor??""))}_render(){if(null===this._dotLottieCore||null===this._context)return!1;if(this._dotLottieCore.render()){let t=this._dotLottieCore.buffer(),e=new Uint8ClampedArray(t,0,this._canvas.width*this._canvas.height*4),n=null;return typeof ImageData>"u"?(n=this._context.createImageData(this._canvas.width,this._canvas.height),n.data.set(e)):n=new ImageData(e,this._canvas.width,this._canvas.height),this._context.putImageData(n,0,0),this._eventManager.dispatch({type:"render",currentFrame:this._dotLottieCore.currentFrame()}),!0}return!1}_draw(){if(null===this._dotLottieCore||null===this._context||!this._dotLottieCore.isPlaying())return;let t=this._dotLottieCore.requestFrame();this._dotLottieCore.setFrame(t)&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render()&&this._dotLottieCore.isComplete()&&(this._dotLottieCore.config().loopAnimation?this._eventManager.dispatch({type:"loop",loopCount:this._dotLottieCore.loopCount()}):this._eventManager.dispatch({type:"complete"}))),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this))}play(){if(null===this._dotLottieCore)return;let t=this._dotLottieCore.play();this._isFrozen=!1,t&&(this._eventManager.dispatch({type:"play"}),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this)))}pause(){null!==this._dotLottieCore&&this._dotLottieCore.pause()&&this._eventManager.dispatch({type:"pause"})}stop(){null!==this._dotLottieCore&&this._dotLottieCore.stop()&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render(),this._eventManager.dispatch({type:"stop"}))}setFrame(t){null===this._dotLottieCore||t<0||t>this._dotLottieCore.totalFrames()||this._dotLottieCore.seek(t)&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render())}setSpeed(t){null!==this._dotLottieCore&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),speed:t})}setBackgroundColor(t){null!==this._dotLottieCore&&(o&&this._canvas instanceof HTMLCanvasElement?this._canvas.style.backgroundColor=t:this._dotLottieCore.setConfig({...this._dotLottieCore.config(),backgroundColor:f(t)}),this._backgroundColor=t)}setLoop(t){null!==this._dotLottieCore&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),loopAnimation:t})}setUseFrameInterpolation(t){null!==this._dotLottieCore&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),useFrameInterpolation:t})}addEventListener(t,e){this._eventManager.addEventListener(t,e)}removeEventListener(t,e){this._eventManager.removeEventListener(t,e)}destroy(){this._dotLottieCore?.delete(),this._dotLottieCore=null,this._context=null,this._eventManager.dispatch({type:"destroy"}),this._eventManager.removeAllEventListeners(),this._cleanupStateMachineListeners()}freeze(){null!==this._animationFrameId&&(this._frameManager.cancelAnimationFrame(this._animationFrameId),this._animationFrameId=null,this._isFrozen=!0,this._eventManager.dispatch({type:"freeze"}))}unfreeze(){null===this._animationFrameId&&(this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this)),this._isFrozen=!1,this._eventManager.dispatch({type:"unfreeze"}))}resize(){if(o&&this._canvas instanceof HTMLCanvasElement){let t=this._renderConfig.devicePixelRatio||window.devicePixelRatio||1,{height:e,width:n}=this._canvas.getBoundingClientRect();this._canvas.width=n*t,this._canvas.height=e*t}this._dotLottieCore?.resize(this._canvas.width,this._canvas.height)&&this._render()}setSegment(e,n){null===this._dotLottieCore||null===t._wasmModule||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),segment:C([e,n],t._wasmModule)})}setMode(e){null===this._dotLottieCore||null===t._wasmModule||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),mode:_(e,t._wasmModule)})}setRenderConfig(t){this._renderConfig=t}loadAnimation(t){null!==this._dotLottieCore&&this._dotLottieCore.activeAnimationId()!==t&&(this._dotLottieCore.loadAnimation(t,this._canvas.width,this._canvas.height)?(this._eventManager.dispatch({type:"load"}),this.resize()):this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to animation :${t}`)}))}setMarker(t){null!==this._dotLottieCore&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),marker:t})}markers(){let t=this._dotLottieCore?.markers();if(t){let e=[];for(let n=0;n<t.size();n+=1){let a=t.get(n);e.push({name:a.name,time:a.time,duration:a.duration})}return e}return[]}loadTheme(t){if(null===this._dotLottieCore)return!1;let e=this._dotLottieCore.loadTheme(t);return this._render(),e}loadThemeData(t){if(null===this._dotLottieCore)return!1;let e=this._dotLottieCore.loadThemeData(t);return this._render(),e}setLayout(e){null===this._dotLottieCore||null===t._wasmModule||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),layout:{align:w(e.align,t._wasmModule),fit:y(e.fit,t._wasmModule)}})}setViewport(t,e,n,a){return null!==this._dotLottieCore&&this._dotLottieCore.setViewport(t,e,n,a)}static setWasmUrl(t){c.setWasmUrl(t)}loadStateMachine(t){return this._dotLottieCore?.loadStateMachine(t)??!1}startStateMachine(){let t=this._dotLottieCore?.startStateMachine()??!1;return t&&this._setupStateMachineListeners(),t}stopStateMachine(){let t=this._dotLottieCore?.stopStateMachine()??!1;return t&&this._cleanupStateMachineListeners(),t}_getPointerPosition(t){let e=this._canvas.getBoundingClientRect(),n=this._canvas.width/e.width,a=this._canvas.height/e.height,r=this._renderConfig.devicePixelRatio||window.devicePixelRatio||1;return{x:(t.clientX-e.left)*n/r,y:(t.clientY-e.top)*a/r}}_onPointerUp(t){let{x:e,y:n}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerUp: ${e} ${n}`)}_onPointerDown(t){let{x:e,y:n}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerDown: ${e} ${n}`)}_onPointerMove(t){let{x:e,y:n}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerMove: ${e} ${n}`)}_onPointerEnter(t){let{x:e,y:n}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerEnter: ${e} ${n}`)}_onPointerLeave(t){let{x:e,y:n}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerExit: ${e} ${n}`)}_onComplete(){this.postStateMachineEvent("OnComplete")}postStateMachineEvent(t){return this._dotLottieCore?.postEventPayload(t)??!1}getStateMachineListeners(){if(!this._dotLottieCore)return[];let t=this._dotLottieCore.stateMachineFrameworkSetup(),e=[];for(let n=0;n<t.size();n+=1)e.push(t.get(n));return e}_setupStateMachineListeners(){if(o&&this._canvas instanceof HTMLCanvasElement&&null!==this._dotLottieCore&&this.isLoaded){let t=this.getStateMachineListeners();t.includes("PointerUp")&&this._canvas.addEventListener("pointerup",this._onPointerUp.bind(this)),t.includes("PointerDown")&&this._canvas.addEventListener("pointerdown",this._onPointerDown.bind(this)),t.includes("PointerMove")&&this._canvas.addEventListener("pointermove",this._onPointerMove.bind(this)),t.includes("PointerEnter")&&this._canvas.addEventListener("pointerenter",this._onPointerEnter.bind(this)),t.includes("PointerExit")&&this._canvas.addEventListener("pointerleave",this._onPointerLeave.bind(this)),t.includes("Complete")&&this.addEventListener("complete",this._onComplete.bind(this))}}_cleanupStateMachineListeners(){o&&this._canvas instanceof HTMLCanvasElement&&(this._canvas.removeEventListener("pointerup",this._onPointerUp.bind(this)),this._canvas.removeEventListener("pointerdown",this._onPointerDown.bind(this)),this._canvas.removeEventListener("pointermove",this._onPointerMove.bind(this)),this._canvas.removeEventListener("pointerenter",this._onPointerEnter.bind(this)),this._canvas.removeEventListener("pointerleave",this._onPointerLeave.bind(this)),this.removeEventListener("complete",this._onComplete.bind(this)))}loadStateMachineData(t){return this._dotLottieCore?.loadStateMachineData(t)??!1}animationSize(){return{width:this._dotLottieCore?.animationSize().get(0)??0,height:this._dotLottieCore?.animationSize().get(1)??0}}setStateMachineBooleanContext(t,e){return this._dotLottieCore?.setStateMachineBooleanContext(t,e)??!1}setStateMachineNumericContext(t,e){return this._dotLottieCore?.setStateMachineNumericContext(t,e)??!1}setStateMachineStringContext(t,e){return this._dotLottieCore?.setStateMachineStringContext(t,e)??!1}};n(L,"_wasmModule",null);var b=L;function M(t){if(t instanceof OffscreenCanvas)return{width:t.width,height:t.height};let{height:e,width:n}=t.getBoundingClientRect();return{width:n*window.devicePixelRatio,height:e*window.devicePixelRatio}}function I(){return Date.now().toString(36)+Math.random().toString(36).substr(2,9)}var F=class t{constructor(e){n(this,"_eventManager",new m),n(this,"_id"),n(this,"_worker"),n(this,"_canvas"),n(this,"_dotLottieInstanceState",{markers:[],autoplay:!1,backgroundColor:"",currentFrame:0,duration:0,loop:!1,mode:"forward",segment:[0,0],segmentDuration:0,speed:1,totalFrames:0,isLoaded:!1,isPlaying:!1,isPaused:!1,isStopped:!0,isFrozen:!1,useFrameInterpolation:!1,renderConfig:{devicePixelRatio:window.devicePixelRatio},activeAnimationId:"",activeThemeId:"",layout:void 0,marker:void 0,isReady:!1,manifest:null}),n(this,"_created",!1),this._canvas=e.canvas,this._id=`dotlottie-${I()}`;let a=e.workerId||"defaultWorker";this._worker=t._workerManager.getWorker(a),t._workerManager.assignAnimationToWorker(this._id,a),t._wasmUrl&&this._sendMessage("setWasmUrl",{url:t._wasmUrl}),this._create(e),this._worker.addEventListener("message",this._handleWorkerEvent.bind(this))}async _handleWorkerEvent(t){let e=t.data;e.id||("onLoad"===e.method&&e.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(e.result.event)),"onComplete"===e.method&&e.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(e.result.event)),"onDestroy"===e.method&&e.result.instanceId===this._id&&this._eventManager.dispatch(e.result.event),"onUnfreeze"===e.method&&e.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._dotLottieInstanceState.isFrozen=!1,this._eventManager.dispatch(e.result.event)),"onFrame"===e.method&&e.result.instanceId===this._id&&(this._dotLottieInstanceState.currentFrame=e.result.event.currentFrame,this._eventManager.dispatch(e.result.event)),"onRender"===e.method&&e.result.instanceId===this._id&&this._eventManager.dispatch(e.result.event),"onFreeze"===e.method&&e.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(e.result.event)),"onPause"===e.method&&e.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(e.result.event)),"onPlay"===e.method&&e.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(e.result.event)),"onStop"===e.method&&e.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(e.result.event)),"onLoadError"===e.method&&e.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(e.result.event)),"onReady"===e.method&&e.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(e.result.event)))}async _create(t){let e;e=this._canvas instanceof HTMLCanvasElement?this._canvas.transferControlToOffscreen():this._canvas;let{instanceId:n}=await this._sendMessage("create",{instanceId:this._id,config:{...t,canvas:e},...M(this._canvas)},[e]);if(n!==this._id)throw new Error("Instance ID mismatch");this._created=!0,await this._updateDotLottieInstanceState()}get isLoaded(){return this._dotLottieInstanceState.isLoaded}get isPlaying(){return this._dotLottieInstanceState.isPlaying}get isPaused(){return this._dotLottieInstanceState.isPaused}get isStopped(){return this._dotLottieInstanceState.isStopped}get currentFrame(){return this._dotLottieInstanceState.currentFrame}get isFrozen(){return this._dotLottieInstanceState.isFrozen}get segmentDuration(){return this._dotLottieInstanceState.segmentDuration}get totalFrames(){return this._dotLottieInstanceState.totalFrames}get segment(){return this._dotLottieInstanceState.segment}get speed(){return this._dotLottieInstanceState.speed}get duration(){return this._dotLottieInstanceState.duration}get isReady(){return this._dotLottieInstanceState.isReady}get mode(){return this._dotLottieInstanceState.mode}get canvas(){return this._canvas}get autoplay(){return this._dotLottieInstanceState.autoplay}get backgroundColor(){return this._dotLottieInstanceState.backgroundColor}get loop(){return this._dotLottieInstanceState.loop}get useFrameInterpolation(){return this._dotLottieInstanceState.useFrameInterpolation}get renderConfig(){return this._dotLottieInstanceState.renderConfig}get manifest(){return this._dotLottieInstanceState.manifest}get activeAnimationId(){return this._dotLottieInstanceState.activeAnimationId}get marker(){return this._dotLottieInstanceState.marker}get activeThemeId(){return this._dotLottieInstanceState.activeThemeId}get layout(){return this._dotLottieInstanceState.layout}async play(){this._created&&(await this._sendMessage("play",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async pause(){this._created&&(await this._sendMessage("pause",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async stop(){this._created&&(await this._sendMessage("stop",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async setSpeed(t){this._created&&(await this._sendMessage("setSpeed",{instanceId:this._id,speed:t}),await this._updateDotLottieInstanceState())}async setMode(t){this._created&&(await this._sendMessage("setMode",{instanceId:this._id,mode:t}),await this._updateDotLottieInstanceState())}async setFrame(t){this._created&&(await this._sendMessage("setFrame",{frame:t,instanceId:this._id}),await this._updateDotLottieInstanceState())}async setSegment(t,e){this._created&&(await this._sendMessage("setSegment",{instanceId:this._id,segment:[t,e]}),await this._updateDotLottieInstanceState())}async setRenderConfig(t){this._created&&(await this._sendMessage("setRenderConfig",{instanceId:this._id,renderConfig:t}),await this._updateDotLottieInstanceState())}async setUseFrameInterpolation(t){this._created&&(await this._sendMessage("setUseFrameInterpolation",{instanceId:this._id,useFrameInterpolation:t}),await this._updateDotLottieInstanceState())}async loadTheme(t){if(!this._created)return!1;let e=this._sendMessage("loadTheme",{instanceId:this._id,themeId:t});return await this._updateDotLottieInstanceState(),e}async load(t){this._created&&(await this._sendMessage("load",{config:t,instanceId:this._id}),await this._updateDotLottieInstanceState())}async setLoop(t){this._created&&(await this._sendMessage("setLoop",{instanceId:this._id,loop:t}),await this._updateDotLottieInstanceState())}async resize(){if(!this._created)return;let{height:t,width:e}=M(this._canvas);this._canvas.width=e,this._canvas.height=t,await this._sendMessage("resize",{height:t,instanceId:this._id,width:e}),await this._updateDotLottieInstanceState()}async destroy(){this._created&&(this._created=!1,await this._sendMessage("destroy",{instanceId:this._id}),this._cleanupStateMachineListeners(),t._workerManager.unassignAnimationFromWorker(this._id),this._eventManager.removeAllEventListeners())}async freeze(){this._created&&(await this._sendMessage("freeze",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async unfreeze(){this._created&&(await this._sendMessage("unfreeze",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async setBackgroundColor(t){this._created&&(await this._sendMessage("setBackgroundColor",{instanceId:this._id,backgroundColor:t}),await this._updateDotLottieInstanceState())}async loadAnimation(t){this._created&&(await this._sendMessage("loadAnimation",{animationId:t,instanceId:this._id}),await this._updateDotLottieInstanceState())}async setLayout(t){this._created&&(await this._sendMessage("setLayout",{instanceId:this._id,layout:t}),await this._updateDotLottieInstanceState())}async _updateDotLottieInstanceState(){if(!this._created)return;let t=await this._sendMessage("getDotLottieInstanceState",{instanceId:this._id});this._dotLottieInstanceState=t.state}markers(){return this._dotLottieInstanceState.markers}async setMarker(t){this._created&&(await this._sendMessage("setMarker",{instanceId:this._id,marker:t}),await this._updateDotLottieInstanceState())}async loadThemeData(t){if(!this._created)return!1;let e=await this._sendMessage("loadThemeData",{instanceId:this._id,themeData:t});return await this._updateDotLottieInstanceState(),e}async setViewport(t,e,n,a){return!!this._created&&this._sendMessage("setViewport",{x:t,y:e,width:n,height:a,instanceId:this._id})}async _sendMessage(t,e,n){let a={id:`dotlottie-request-${I()}`,method:t,params:e};return this._worker.postMessage(a,n||[]),new Promise(((e,n)=>{let r=i=>{let o=i.data;o.id===a.id&&(this._worker.removeEventListener("message",r),o.error?n(new Error(`Failed to execute method ${t}: ${o.error}`)):e(o.result))};this._worker.addEventListener("message",r)}))}addEventListener(t,e){this._eventManager.addEventListener(t,e)}removeEventListener(t,e){this._eventManager.removeEventListener(t,e)}static setWasmUrl(e){t._wasmUrl=e}async loadStateMachine(t){if(!this._created)return!1;let e=await this._sendMessage("loadStateMachine",{instanceId:this._id,stateMachineId:t});return await this._updateDotLottieInstanceState(),e}async loadStateMachineData(t){if(!this._created)return!1;let e=await this._sendMessage("loadStateMachineData",{instanceId:this._id,stateMachineData:t});return await this._updateDotLottieInstanceState(),e}async startStateMachine(){if(!this._created)return!1;this._setupStateMachineListeners();let t=await this._sendMessage("startStateMachine",{instanceId:this._id});return await this._updateDotLottieInstanceState(),t}async stopStateMachine(){return!!this._created&&(this._cleanupStateMachineListeners(),this._sendMessage("stopStateMachine",{instanceId:this._id}))}async postStateMachineEvent(t){return!!this._created&&this._sendMessage("postStateMachineEvent",{event:t,instanceId:this._id})}async getStateMachineListeners(){return this._created?this._sendMessage("getStateMachineListeners",{instanceId:this._id}):[]}_getPointerPosition(t){let e=this._canvas.getBoundingClientRect(),n=this._canvas.width/e.width,a=this._canvas.height/e.height,r=this._dotLottieInstanceState.renderConfig.devicePixelRatio||window.devicePixelRatio||1;return{x:(t.clientX-e.left)*n/r,y:(t.clientY-e.top)*a/r}}_onPointerUp(t){let{x:e,y:n}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerUp: ${e} ${n}`)}_onPointerDown(t){let{x:e,y:n}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerDown: ${e} ${n}`)}_onPointerMove(t){let{x:e,y:n}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerMove: ${e} ${n}`)}_onPointerEnter(t){let{x:e,y:n}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerEnter: ${e} ${n}`)}_onPointerLeave(t){let{x:e,y:n}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerExit: ${e} ${n}`)}_onComplete(){this.postStateMachineEvent("OnComplete")}async _setupStateMachineListeners(){if(o&&this._canvas instanceof HTMLCanvasElement&&this.isLoaded){let t=await this._sendMessage("getStateMachineListeners",{instanceId:this._id});t.includes("PointerUp")&&this._canvas.addEventListener("pointerup",this._onPointerUp.bind(this)),t.includes("PointerDown")&&this._canvas.addEventListener("pointerdown",this._onPointerDown.bind(this)),t.includes("PointerMove")&&this._canvas.addEventListener("pointermove",this._onPointerMove.bind(this)),t.includes("PointerEnter")&&this._canvas.addEventListener("pointerenter",this._onPointerEnter.bind(this)),t.includes("PointerExit")&&this._canvas.addEventListener("pointerleave",this._onPointerLeave.bind(this)),t.includes("Complete")&&this.addEventListener("complete",this._onComplete.bind(this))}}_cleanupStateMachineListeners(){o&&this._canvas instanceof HTMLCanvasElement&&(this._canvas.removeEventListener("pointerup",this._onPointerUp.bind(this)),this._canvas.removeEventListener("pointerdown",this._onPointerDown.bind(this)),this._canvas.removeEventListener("pointermove",this._onPointerMove.bind(this)),this._canvas.removeEventListener("pointerenter",this._onPointerEnter.bind(this)),this._canvas.removeEventListener("pointerleave",this._onPointerLeave.bind(this)),this.removeEventListener("complete",this._onComplete.bind(this)))}};n(F,"_workerManager",new class{constructor(){n(this,"_workers",new Map),n(this,"_animationWorkerMap",new Map)}_createWorker(t){let e=new Blob(['/**\n * This is a worker script for dotlottie.\n * Do not modify this file directly.\n * As it\'s generated by the build process.\n */\n    \nvar $n=Object.defineProperty;var kn=(s,n,r)=>n in s?$n(s,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[n]=r;var I=(s,n,r)=>kn(s,typeof n!="symbol"?n+"":n,r);var Xe=class{requestAnimationFrame(n){return requestAnimationFrame(n)}cancelAnimationFrame(n){cancelAnimationFrame(n);}},Ze=class{constructor(){I(this,"_lastHandleId",0);I(this,"_lastImmediate",null);}requestAnimationFrame(n){return this._lastHandleId>=Number.MAX_SAFE_INTEGER&&(this._lastHandleId=0),this._lastHandleId+=1,this._lastImmediate=setImmediate(()=>{n(Date.now());}),this._lastHandleId}cancelAnimationFrame(n){this._lastImmediate&&clearImmediate(this._lastImmediate);}},Ie=class{constructor(){I(this,"_strategy");this._strategy=typeof requestAnimationFrame=="function"?new Xe:new Ze;}requestAnimationFrame(n){return this._strategy.requestAnimationFrame(n)}cancelAnimationFrame(n){this._strategy.cancelAnimationFrame(n);}};var te=typeof window<"u"&&typeof window.document<"u";var xe=new Uint8Array([80,75,3,4]),jt=["v","ip","op","layers","fr","w","h"];var fe={name:"@lottiefiles/dotlottie-web",version:"0.29.2",type:"module",description:"Lottie and DotLottie player for the web",repository:{type:"git",url:"git+https://github.com/LottieFiles/dotlottie-web.git",directory:"packages/web"},homepage:"https://github.com/LottieFiles/dotlottie-web#readme",bugs:"https://github.com/LottieFiles/dotlottie-web/issues",author:"LottieFiles",contributors:["Abdelrahman Ashraf <a.theashraf@gmail.com>"],license:"MIT",main:"dist/index.cjs",module:"dist/index.js",types:"dist/index.d.ts",files:["dist"],keywords:["dotlottie","lottie","player","animation","web","canvas","javascript","thorvg"],scripts:{build:"tsup",dev:"tsup --watch",lint:"eslint --fix .","stats:eslint":"cross-env TIMING=1 eslint .","stats:ts":"tsc -p tsconfig.build.json --extendedDiagnostics",test:"vitest run --browser.headless","test:coverage":"vitest run --browser.headless --coverage","test:watch":"vitest","type-check":"tsc --noEmit"},devDependencies:{"@types/node":"^20.14.11","@vitest/browser":"^2.0.3","@vitest/coverage-istanbul":"^2.0.3","cross-env":"7.0.3",playwright:"^1.45.2",tsup:"8.1.0",typescript:"5.0.4",vitest:"^2.0.3"},publishConfig:{access:"public"}};var On=(()=>{var s=typeof document<"u"?document.currentScript?.src:void 0;return function(n={}){var r=n,c,_,$=new Promise((e,t)=>{c=e,_=t;}),U=Object.assign({},r),V="./this.program",j="";typeof document<"u"&&document.currentScript&&(j=document.currentScript.src),s&&(j=s),j.startsWith("blob:")?j="":j=j.substr(0,j.replace(/[?#].*/,"").lastIndexOf("/")+1);var Nt=r.print||console.log.bind(console),Z=r.printErr||console.error.bind(console);Object.assign(r,U),U=null,r.thisProgram&&(V=r.thisProgram);var ne;r.wasmBinary&&(ne=r.wasmBinary);var ve,at=!1,Y,b,Q,re,P,L,ot,it;function st(){var e=ve.buffer;r.HEAP8=Y=new Int8Array(e),r.HEAP16=Q=new Int16Array(e),r.HEAPU8=b=new Uint8Array(e),r.HEAPU16=re=new Uint16Array(e),r.HEAP32=P=new Int32Array(e),r.HEAPU32=L=new Uint32Array(e),r.HEAPF32=ot=new Float32Array(e),r.HEAPF64=it=new Float64Array(e);}var lt=[],dt=[],ct=[];function Vt(){var e=r.preRun.shift();lt.unshift(e);}var J=0,ae=null;function ye(e){throw r.onAbort?.(e),e="Aborted("+e+")",Z(e),at=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),_(e),e}var ut=e=>e.startsWith("data:application/octet-stream;base64,"),q;if(q="DotLottiePlayer.wasm",!ut(q)){var ht=q;q=r.locateFile?r.locateFile(ht,j):j+ht;}function pt(e){if(e==q&&ne)return new Uint8Array(ne);throw "both async and sync fetching of the wasm failed"}function Yt(e){return ne||typeof fetch!="function"?Promise.resolve().then(()=>pt(e)):fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw `failed to load wasm binary file at \'${e}\'`;return t.arrayBuffer()}).catch(()=>pt(e))}function ft(e,t,a){return Yt(e).then(o=>WebAssembly.instantiate(o,t)).then(a,o=>{Z(`failed to asynchronously prepare wasm: ${o}`),ye(o);})}function Jt(e,t){var a=q;return ne||typeof WebAssembly.instantiateStreaming!="function"||ut(a)||typeof fetch!="function"?ft(a,e,t):fetch(a,{credentials:"same-origin"}).then(o=>WebAssembly.instantiateStreaming(o,e).then(t,function(i){return Z(`wasm streaming compile failed: ${i}`),Z("falling back to ArrayBuffer instantiation"),ft(a,e,t)}))}var Te=e=>{for(;0<e.length;)e.shift()(r);},mt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,G=(e,t,a)=>{var o=t+a;for(a=t;e[a]&&!(a>=o);)++a;if(16<a-t&&e.buffer&&mt)return mt.decode(e.subarray(t,a));for(o="";t<a;){var i=e[t++];if(i&128){var l=e[t++]&63;if((i&224)==192)o+=String.fromCharCode((i&31)<<6|l);else {var h=e[t++]&63;i=(i&240)==224?(i&15)<<12|l<<6|h:(i&7)<<18|l<<12|h<<6|e[t++]&63,65536>i?o+=String.fromCharCode(i):(i-=65536,o+=String.fromCharCode(55296|i>>10,56320|i&1023));}}else o+=String.fromCharCode(i);}return o};class Gt{constructor(t){this.ya=t-24;}}var vt=0,yt=e=>{for(var t=0,a=0;a<e.length;++a){var o=e.charCodeAt(a);127>=o?t++:2047>=o?t+=2:55296<=o&&57343>=o?(t+=4,++a):t+=3;}return t},gt=(e,t,a,o)=>{if(0<o){o=a+o-1;for(var i=0;i<e.length;++i){var l=e.charCodeAt(i);if(55296<=l&&57343>=l){var h=e.charCodeAt(++i);l=65536+((l&1023)<<10)|h&1023;}if(127>=l){if(a>=o)break;t[a++]=l;}else {if(2047>=l){if(a+1>=o)break;t[a++]=192|l>>6;}else {if(65535>=l){if(a+2>=o)break;t[a++]=224|l>>12;}else {if(a+3>=o)break;t[a++]=240|l>>18,t[a++]=128|l>>12&63;}t[a++]=128|l>>6&63;}t[a++]=128|l&63;}}t[a]=0;}},ge={},Se=e=>{for(;e.length;){var t=e.pop();e.pop()(t);}};function oe(e){return this.fromWireType(L[e>>2])}var ee={},K={},we={},ie,H=(e,t,a)=>{function o(u){if(u=a(u),u.length!==e.length)throw new ie("Mismatched type converter count");for(var f=0;f<e.length;++f)k(e[f],u[f]);}e.forEach(function(u){we[u]=t;});var i=Array(t.length),l=[],h=0;t.forEach((u,f)=>{K.hasOwnProperty(u)?i[f]=K[u]:(l.push(u),ee.hasOwnProperty(u)||(ee[u]=[]),ee[u].push(()=>{i[f]=K[u],++h,h===l.length&&o(i);}));}),l.length===0&&o(i);},wt,A=e=>{for(var t="";b[e];)t+=wt[b[e++]];return t},g;function Xt(e,t,a={}){var o=t.name;if(!e)throw new g(`type "${o}" must have a positive integer typeid pointer`);if(K.hasOwnProperty(e)){if(a.ib)return;throw new g(`Cannot register type \'${o}\' twice`)}K[e]=t,delete we[e],ee.hasOwnProperty(e)&&(t=ee[e],delete ee[e],t.forEach(i=>i()));}function k(e,t,a={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Xt(e,t,a)}var Re=e=>{throw new g(e.ma.za.xa.name+" instance already deleted")},$e=!1,_t=()=>{},Et=(e,t,a)=>t===a?e:a.Ca===void 0?null:(e=Et(e,t,a.Ca),e===null?null:a.ab(e)),Ct={},se=[],ke=()=>{for(;se.length;){var e=se.pop();e.ma.Ka=!1,e.delete();}},le,de={},Zt=(e,t)=>{if(t===void 0)throw new g("ptr should not be undefined");for(;e.Ca;)t=e.Na(t),e=e.Ca;return de[t]},_e=(e,t)=>{if(!t.za||!t.ya)throw new ie("makeClassHandle requires ptr and ptrType");if(!!t.Da!=!!t.Aa)throw new ie("Both smartPtrType and smartPtr must be specified");return t.count={value:1},ce(Object.create(e,{ma:{value:t,writable:!0}}))},ce=e=>typeof FinalizationRegistry>"u"?(ce=t=>t,e):($e=new FinalizationRegistry(t=>{t=t.ma,--t.count.value,t.count.value===0&&(t.Aa?t.Da.Fa(t.Aa):t.za.xa.Fa(t.ya));}),ce=t=>{var a=t.ma;return a.Aa&&$e.register(t,{ma:a},t),t},_t=t=>{$e.unregister(t);},ce(e));function Ee(){}var ue=(e,t)=>Object.defineProperty(t,"name",{value:e}),Mt=(e,t,a)=>{if(e[t].Ba===void 0){var o=e[t];e[t]=function(...i){if(!e[t].Ba.hasOwnProperty(i.length))throw new g(`Function \'${a}\' called with an invalid number of arguments (${i.length}) - expects one of (${e[t].Ba})!`);return e[t].Ba[i.length].apply(this,i)},e[t].Ba=[],e[t].Ba[o.Oa]=o;}},De=(e,t,a)=>{if(r.hasOwnProperty(e)){if(a===void 0||r[e].Ba!==void 0&&r[e].Ba[a]!==void 0)throw new g(`Cannot register public name \'${e}\' twice`);if(Mt(r,e,e),r.hasOwnProperty(a))throw new g(`Cannot register multiple overloads of a function with the same number of arguments (${a})!`);r[e].Ba[a]=t;}else r[e]=t,a!==void 0&&(r[e].vb=a);},Qt=e=>{if(e===void 0)return "_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e};function qt(e,t,a,o,i,l,h,u){this.name=e,this.constructor=t,this.La=a,this.Fa=o,this.Ca=i,this.cb=l,this.Na=h,this.ab=u,this.kb=[];}var Oe=(e,t,a)=>{for(;t!==a;){if(!t.Na)throw new g(`Expected null or instance of ${a.name}, got an instance of ${t.name}`);e=t.Na(e),t=t.Ca;}return e};function en(e,t){if(t===null){if(this.Ta)throw new g(`null is not a valid ${this.name}`);return 0}if(!t.ma)throw new g(`Cannot pass "${Ne(t)}" as a ${this.name}`);if(!t.ma.ya)throw new g(`Cannot pass deleted object as a pointer of type ${this.name}`);return Oe(t.ma.ya,t.ma.za.xa,this.xa)}function tn(e,t){if(t===null){if(this.Ta)throw new g(`null is not a valid ${this.name}`);if(this.Qa){var a=this.Ua();return e!==null&&e.push(this.Fa,a),a}return 0}if(!t||!t.ma)throw new g(`Cannot pass "${Ne(t)}" as a ${this.name}`);if(!t.ma.ya)throw new g(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.Pa&&t.ma.za.Pa)throw new g(`Cannot convert argument of type ${t.ma.Da?t.ma.Da.name:t.ma.za.name} to parameter type ${this.name}`);if(a=Oe(t.ma.ya,t.ma.za.xa,this.xa),this.Qa){if(t.ma.Aa===void 0)throw new g("Passing raw pointer to smart pointer is illegal");switch(this.pb){case 0:if(t.ma.Da===this)a=t.ma.Aa;else throw new g(`Cannot convert argument of type ${t.ma.Da?t.ma.Da.name:t.ma.za.name} to parameter type ${this.name}`);break;case 1:a=t.ma.Aa;break;case 2:if(t.ma.Da===this)a=t.ma.Aa;else {var o=t.clone();a=this.lb(a,Me(()=>o.delete())),e!==null&&e.push(this.Fa,a);}break;default:throw new g("Unsupporting sharing policy")}}return a}function nn(e,t){if(t===null){if(this.Ta)throw new g(`null is not a valid ${this.name}`);return 0}if(!t.ma)throw new g(`Cannot pass "${Ne(t)}" as a ${this.name}`);if(!t.ma.ya)throw new g(`Cannot pass deleted object as a pointer of type ${this.name}`);if(t.ma.za.Pa)throw new g(`Cannot convert argument of type ${t.ma.za.name} to parameter type ${this.name}`);return Oe(t.ma.ya,t.ma.za.xa,this.xa)}function he(e,t,a,o,i,l,h,u,f,p,m){this.name=e,this.xa=t,this.Ta=a,this.Pa=o,this.Qa=i,this.jb=l,this.pb=h,this.Za=u,this.Ua=f,this.lb=p,this.Fa=m,i||t.Ca!==void 0?this.toWireType=tn:(this.toWireType=o?en:nn,this.Ea=null);}var Lt=(e,t,a)=>{if(!r.hasOwnProperty(e))throw new ie("Replacing nonexistent public symbol");r[e].Ba!==void 0&&a!==void 0?r[e].Ba[a]=t:(r[e]=t,r[e].Oa=a);},R,rn=(e,t,a=[])=>(e.includes("j")?(e=e.replace(/p/g,"i"),t=(0, r["dynCall_"+e])(t,...a)):t=R.get(t)(...a),t),an=(e,t)=>(...a)=>rn(e,t,a),T=(e,t)=>{e=A(e);var a=e.includes("j")?an(e,t):R.get(t);if(typeof a!="function")throw new g(`unknown function pointer with signature ${e}: ${t}`);return a},bt,Ft=e=>{e=kt(e);var t=A(e);return W(e),t},Ce=(e,t)=>{function a(l){i[l]||K[l]||(we[l]?we[l].forEach(a):(o.push(l),i[l]=!0));}var o=[],i={};throw t.forEach(a),new bt(`${e}: `+o.map(Ft).join([", "]))},ze=(e,t)=>{for(var a=[],o=0;o<e;o++)a.push(L[t+4*o>>2]);return a};function on(e){for(var t=1;t<e.length;++t)if(e[t]!==null&&e[t].Ea===void 0)return !0;return !1}function je(e,t,a,o,i){var l=t.length;if(2>l)throw new g("argTypes array size mismatch! Must at least get return value and \'this\' types!");var h=t[1]!==null&&a!==null,u=on(t),f=t[0].name!=="void",p=l-2,m=Array(p),w=[],C=[];return ue(e,function(...d){if(d.length!==p)throw new g(`function ${e} called with ${d.length} arguments, expected ${p}`);if(C.length=0,w.length=h?2:1,w[0]=i,h){var v=t[1].toWireType(C,this);w[1]=v;}for(var y=0;y<p;++y)m[y]=t[y+2].toWireType(C,d[y]),w.push(m[y]);if(d=o(...w),u)Se(C);else for(y=h?1:2;y<t.length;y++){var x=y===1?v:m[y-2];t[y].Ea!==null&&t[y].Ea(x);}return v=f?t[0].fromWireType(d):void 0,v})}var It=e=>{e=e.trim();let t=e.indexOf("(");return t!==-1?e.substr(0,t):e},Be=[],B=[],We=e=>{9<e&&--B[e+1]===0&&(B[e]=void 0,Be.push(e));},Ue=e=>{if(!e)throw new g("Cannot use deleted val. handle = "+e);return B[e]},Me=e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:let t=Be.pop()||B.length;return B[t]=e,B[t+1]=1,t}},xt={name:"emscripten::val",fromWireType:e=>{var t=Ue(e);return We(e),t},toWireType:(e,t)=>Me(t),argPackAdvance:8,readValueFromPointer:oe,Ea:null},sn=(e,t,a)=>{switch(t){case 1:return a?function(o){return this.fromWireType(Y[o])}:function(o){return this.fromWireType(b[o])};case 2:return a?function(o){return this.fromWireType(Q[o>>1])}:function(o){return this.fromWireType(re[o>>1])};case 4:return a?function(o){return this.fromWireType(P[o>>2])}:function(o){return this.fromWireType(L[o>>2])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},He=(e,t)=>{var a=K[e];if(a===void 0)throw e=`${t} has unknown type ${Ft(e)}`,new g(e);return a},Ne=e=>{if(e===null)return "null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},ln=(e,t)=>{switch(t){case 4:return function(a){return this.fromWireType(ot[a>>2])};case 8:return function(a){return this.fromWireType(it[a>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},dn=(e,t,a)=>{switch(t){case 1:return a?o=>Y[o]:o=>b[o];case 2:return a?o=>Q[o>>1]:o=>re[o>>1];case 4:return a?o=>P[o>>2]:o=>L[o>>2];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},At=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,cn=(e,t)=>{for(var a=e>>1,o=a+t/2;!(a>=o)&&re[a];)++a;if(a<<=1,32<a-e&&At)return At.decode(b.subarray(e,a));for(a="",o=0;!(o>=t/2);++o){var i=Q[e+2*o>>1];if(i==0)break;a+=String.fromCharCode(i);}return a},un=(e,t,a)=>{if(a??(a=2147483647),2>a)return 0;a-=2;var o=t;a=a<2*e.length?a/2:e.length;for(var i=0;i<a;++i)Q[t>>1]=e.charCodeAt(i),t+=2;return Q[t>>1]=0,t-o},hn=e=>2*e.length,pn=(e,t)=>{for(var a=0,o="";!(a>=t/4);){var i=P[e+4*a>>2];if(i==0)break;++a,65536<=i?(i-=65536,o+=String.fromCharCode(55296|i>>10,56320|i&1023)):o+=String.fromCharCode(i);}return o},fn=(e,t,a)=>{if(a??(a=2147483647),4>a)return 0;var o=t;a=o+a-4;for(var i=0;i<e.length;++i){var l=e.charCodeAt(i);if(55296<=l&&57343>=l){var h=e.charCodeAt(++i);l=65536+((l&1023)<<10)|h&1023;}if(P[t>>2]=l,t+=4,t+4>a)break}return P[t>>2]=0,t-o},mn=e=>{for(var t=0,a=0;a<e.length;++a){var o=e.charCodeAt(a);55296<=o&&57343>=o&&++a,t+=4;}return t},Ve=[],vn=e=>{var t=Ve.length;return Ve.push(e),t},yn=(e,t)=>{for(var a=Array(e),o=0;o<e;++o)a[o]=He(L[t+4*o>>2],"parameter "+o);return a},gn=Reflect.construct,Ye={},Pt=()=>{if(!Je){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:V||"./this.program"},t;for(t in Ye)Ye[t]===void 0?delete e[t]:e[t]=Ye[t];var a=[];for(t in e)a.push(`${t}=${e[t]}`);Je=a;}return Je},Je,wn=[null,[],[]],_n=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return e=>crypto.getRandomValues(e);ye("initRandomDevice");},Tt=e=>(Tt=_n())(e),Le=e=>e%4===0&&(e%100!==0||e%400===0),St=[31,29,31,30,31,30,31,31,30,31,30,31],Rt=[31,28,31,30,31,30,31,31,30,31,30,31];function En(e){var t=Array(yt(e)+1);return gt(e,t,0,t.length),t}var Cn=(e,t,a,o)=>{function i(d,v,y){for(d=typeof d=="number"?d.toString():d||"";d.length<v;)d=y[0]+d;return d}function l(d,v){return i(d,v,"0")}function h(d,v){function y(N){return 0>N?-1:0<N?1:0}var x;return (x=y(d.getFullYear()-v.getFullYear()))===0&&(x=y(d.getMonth()-v.getMonth()))===0&&(x=y(d.getDate()-v.getDate())),x}function u(d){switch(d.getDay()){case 0:return new Date(d.getFullYear()-1,11,29);case 1:return d;case 2:return new Date(d.getFullYear(),0,3);case 3:return new Date(d.getFullYear(),0,2);case 4:return new Date(d.getFullYear(),0,1);case 5:return new Date(d.getFullYear()-1,11,31);case 6:return new Date(d.getFullYear()-1,11,30)}}function f(d){var v=d.Ia;for(d=new Date(new Date(d.Ja+1900,0,1).getTime());0<v;){var y=d.getMonth(),x=(Le(d.getFullYear())?St:Rt)[y];if(v>x-d.getDate())v-=x-d.getDate()+1,d.setDate(1),11>y?d.setMonth(y+1):(d.setMonth(0),d.setFullYear(d.getFullYear()+1));else {d.setDate(d.getDate()+v);break}}return y=new Date(d.getFullYear()+1,0,4),v=u(new Date(d.getFullYear(),0,4)),y=u(y),0>=h(v,d)?0>=h(y,d)?d.getFullYear()+1:d.getFullYear():d.getFullYear()-1}var p=L[o+40>>2];o={sb:P[o>>2],rb:P[o+4>>2],Ra:P[o+8>>2],Va:P[o+12>>2],Sa:P[o+16>>2],Ja:P[o+20>>2],Ga:P[o+24>>2],Ia:P[o+28>>2],wb:P[o+32>>2],qb:P[o+36>>2],tb:p&&p?G(b,p):""},a=a?G(b,a):"",p={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var m in p)a=a.replace(new RegExp(m,"g"),p[m]);var w="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),C="January February March April May June July August September October November December".split(" ");p={"%a":d=>w[d.Ga].substring(0,3),"%A":d=>w[d.Ga],"%b":d=>C[d.Sa].substring(0,3),"%B":d=>C[d.Sa],"%C":d=>l((d.Ja+1900)/100|0,2),"%d":d=>l(d.Va,2),"%e":d=>i(d.Va,2," "),"%g":d=>f(d).toString().substring(2),"%G":f,"%H":d=>l(d.Ra,2),"%I":d=>(d=d.Ra,d==0?d=12:12<d&&(d-=12),l(d,2)),"%j":d=>{for(var v=0,y=0;y<=d.Sa-1;v+=(Le(d.Ja+1900)?St:Rt)[y++]);return l(d.Va+v,3)},"%m":d=>l(d.Sa+1,2),"%M":d=>l(d.rb,2),"%n":()=>`\n`,"%p":d=>0<=d.Ra&&12>d.Ra?"AM":"PM","%S":d=>l(d.sb,2),"%t":()=>"\t","%u":d=>d.Ga||7,"%U":d=>l(Math.floor((d.Ia+7-d.Ga)/7),2),"%V":d=>{var v=Math.floor((d.Ia+7-(d.Ga+6)%7)/7);if(2>=(d.Ga+371-d.Ia-2)%7&&v++,v)v==53&&(y=(d.Ga+371-d.Ia)%7,y==4||y==3&&Le(d.Ja)||(v=1));else {v=52;var y=(d.Ga+7-d.Ia-1)%7;(y==4||y==5&&Le(d.Ja%400-1))&&v++;}return l(v,2)},"%w":d=>d.Ga,"%W":d=>l(Math.floor((d.Ia+7-(d.Ga+6)%7)/7),2),"%y":d=>(d.Ja+1900).toString().substring(2),"%Y":d=>d.Ja+1900,"%z":d=>{d=d.qb;var v=0<=d;return d=Math.abs(d)/60,(v?"+":"-")+("0000"+(d/60*100+d%60)).slice(-4)},"%Z":d=>d.tb,"%%":()=>"%"},a=a.replace(/%%/g,"\\0\\0");for(m in p)a.includes(m)&&(a=a.replace(new RegExp(m,"g"),p[m](o)));return a=a.replace(/\\0\\0/g,"%"),m=En(a),m.length>t?0:(Y.set(m,e),m.length-1)};ie=r.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError";}};for(var $t=Array(256),be=0;256>be;++be)$t[be]=String.fromCharCode(be);wt=$t,g=r.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError";}},Object.assign(Ee.prototype,{isAliasOf:function(e){if(!(this instanceof Ee&&e instanceof Ee))return !1;var t=this.ma.za.xa,a=this.ma.ya;e.ma=e.ma;var o=e.ma.za.xa;for(e=e.ma.ya;t.Ca;)a=t.Na(a),t=t.Ca;for(;o.Ca;)e=o.Na(e),o=o.Ca;return t===o&&a===e},clone:function(){if(this.ma.ya||Re(this),this.ma.Ma)return this.ma.count.value+=1,this;var e=ce,t=Object,a=t.create,o=Object.getPrototypeOf(this),i=this.ma;return e=e(a.call(t,o,{ma:{value:{count:i.count,Ka:i.Ka,Ma:i.Ma,ya:i.ya,za:i.za,Aa:i.Aa,Da:i.Da}}})),e.ma.count.value+=1,e.ma.Ka=!1,e},delete(){if(this.ma.ya||Re(this),this.ma.Ka&&!this.ma.Ma)throw new g("Object already scheduled for deletion");_t(this);var e=this.ma;--e.count.value,e.count.value===0&&(e.Aa?e.Da.Fa(e.Aa):e.za.xa.Fa(e.ya)),this.ma.Ma||(this.ma.Aa=void 0,this.ma.ya=void 0);},isDeleted:function(){return !this.ma.ya},deleteLater:function(){if(this.ma.ya||Re(this),this.ma.Ka&&!this.ma.Ma)throw new g("Object already scheduled for deletion");return se.push(this),se.length===1&&le&&le(ke),this.ma.Ka=!0,this}}),r.getInheritedInstanceCount=()=>Object.keys(de).length,r.getLiveInheritedInstances=()=>{var e=[],t;for(t in de)de.hasOwnProperty(t)&&e.push(de[t]);return e},r.flushPendingDeletes=ke,r.setDelayFunction=e=>{le=e,se.length&&le&&le(ke);},Object.assign(he.prototype,{eb(e){return this.Za&&(e=this.Za(e)),e},Xa(e){this.Fa?.(e);},argPackAdvance:8,readValueFromPointer:oe,fromWireType:function(e){function t(){return this.Qa?_e(this.xa.La,{za:this.jb,ya:a,Da:this,Aa:e}):_e(this.xa.La,{za:this,ya:e})}var a=this.eb(e);if(!a)return this.Xa(e),null;var o=Zt(this.xa,a);if(o!==void 0)return o.ma.count.value===0?(o.ma.ya=a,o.ma.Aa=e,o.clone()):(o=o.clone(),this.Xa(e),o);if(o=this.xa.cb(a),o=Ct[o],!o)return t.call(this);o=this.Pa?o.$a:o.pointerType;var i=Et(a,this.xa,o.xa);return i===null?t.call(this):this.Qa?_e(o.xa.La,{za:o,ya:i,Da:this,Aa:e}):_e(o.xa.La,{za:o,ya:i})}}),bt=r.UnboundTypeError=((e,t)=>{var a=ue(t,function(o){this.name=t,this.message=o,o=Error(o).stack,o!==void 0&&(this.stack=this.toString()+`\n`+o.replace(/^Error(:[^\\n]*)?\\n/,""));});return a.prototype=Object.create(e.prototype),a.prototype.constructor=a,a.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},a})(Error,"UnboundTypeError"),B.push(0,1,void 0,1,null,1,!0,1,!1,1),r.count_emval_handles=()=>B.length/2-5-Be.length;var Mn={c:(e,t,a,o)=>{ye(`Assertion failed: ${e?G(b,e):""}, at: `+[t?t?G(b,t):"":"unknown filename",a,o?o?G(b,o):"":"unknown function"]);},m:(e,t,a)=>{var o=new Gt(e);throw L[o.ya+16>>2]=0,L[o.ya+4>>2]=t,L[o.ya+8>>2]=a,vt=e,vt},B:function(){return 0},P:()=>{},M:()=>{},R:function(){return 0},N:()=>{},A:function(){},O:()=>{},v:e=>{var t=ge[e];delete ge[e];var a=t.Ua,o=t.Fa,i=t.Ya,l=i.map(h=>h.hb).concat(i.map(h=>h.nb));H([e],l,h=>{var u={};return i.forEach((f,p)=>{var m=h[p],w=f.fb,C=f.gb,d=h[p+i.length],v=f.mb,y=f.ob;u[f.bb]={read:x=>m.fromWireType(w(C,x)),write:(x,N)=>{var S=[];v(y,x,d.toWireType(S,N)),Se(S);}};}),[{name:t.name,fromWireType:f=>{var p={},m;for(m in u)p[m]=u[m].read(f);return o(f),p},toWireType:(f,p)=>{for(var m in u)if(!(m in p))throw new TypeError(`Missing field: "${m}"`);var w=a();for(m in u)u[m].write(w,p[m]);return f!==null&&f.push(o,w),w},argPackAdvance:8,readValueFromPointer:oe,Ea:o}]});},I:()=>{},Y:(e,t,a,o)=>{t=A(t),k(e,{name:t,fromWireType:function(i){return !!i},toWireType:function(i,l){return l?a:o},argPackAdvance:8,readValueFromPointer:function(i){return this.fromWireType(b[i])},Ea:null});},r:(e,t,a,o,i,l,h,u,f,p,m,w,C)=>{m=A(m),l=T(i,l),u&&(u=T(h,u)),p&&(p=T(f,p)),C=T(w,C);var d=Qt(m);De(d,function(){Ce(`Cannot construct ${m} due to unbound types`,[o]);}),H([e,t,a],o?[o]:[],v=>{if(v=v[0],o)var y=v.xa,x=y.La;else x=Ee.prototype;v=ue(m,function(...Ke){if(Object.getPrototypeOf(this)!==N)throw new g("Use \'new\' to construct "+m);if(S.Ha===void 0)throw new g(m+" has no accessible constructor");var zt=S.Ha[Ke.length];if(zt===void 0)throw new g(`Tried to invoke ctor of ${m} with invalid number of parameters (${Ke.length}) - expected (${Object.keys(S.Ha).toString()}) parameters instead!`);return zt.apply(this,Ke)});var N=Object.create(x,{constructor:{value:v}});v.prototype=N;var S=new qt(m,v,N,C,y,l,u,p);if(S.Ca){var pe;(pe=S.Ca).Wa??(pe.Wa=[]),S.Ca.Wa.push(S);}return y=new he(m,S,!0,!1,!1),pe=new he(m+"*",S,!1,!1,!1),x=new he(m+" const*",S,!1,!0,!1),Ct[e]={pointerType:pe,$a:x},Lt(d,v),[y,pe,x]});},q:(e,t,a,o,i,l)=>{var h=ze(t,a);i=T(o,i),H([],[e],u=>{u=u[0];var f=`constructor ${u.name}`;if(u.xa.Ha===void 0&&(u.xa.Ha=[]),u.xa.Ha[t-1]!==void 0)throw new g(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class \'${u.name}\'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return u.xa.Ha[t-1]=()=>{Ce(`Cannot construct ${u.name} due to unbound types`,h);},H([],h,p=>(p.splice(1,0,null),u.xa.Ha[t-1]=je(f,p,null,i,l),[])),[]});},f:(e,t,a,o,i,l,h,u)=>{var f=ze(a,o);t=A(t),t=It(t),l=T(i,l),H([],[e],p=>{function m(){Ce(`Cannot call ${w} due to unbound types`,f);}p=p[0];var w=`${p.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),u&&p.xa.kb.push(t);var C=p.xa.La,d=C[t];return d===void 0||d.Ba===void 0&&d.className!==p.name&&d.Oa===a-2?(m.Oa=a-2,m.className=p.name,C[t]=m):(Mt(C,t,w),C[t].Ba[a-2]=m),H([],f,v=>(v=je(w,v,p,l,h),C[t].Ba===void 0?(v.Oa=a-2,C[t]=v):C[t].Ba[a-2]=v,[])),[]});},X:e=>k(e,xt),x:(e,t,a,o)=>{function i(){}t=A(t),i.values={},k(e,{name:t,constructor:i,fromWireType:function(l){return this.constructor.values[l]},toWireType:(l,h)=>h.value,argPackAdvance:8,readValueFromPointer:sn(t,a,o),Ea:null}),De(t,i);},k:(e,t,a)=>{var o=He(e,"enum");t=A(t),e=o.constructor,o=Object.create(o.constructor.prototype,{value:{value:a},constructor:{value:ue(`${o.name}_${t}`,function(){})}}),e.values[a]=o,e[t]=o;},C:(e,t,a)=>{t=A(t),k(e,{name:t,fromWireType:o=>o,toWireType:(o,i)=>i,argPackAdvance:8,readValueFromPointer:ln(t,a),Ea:null});},E:(e,t,a,o,i,l)=>{var h=ze(t,a);e=A(e),e=It(e),i=T(o,i),De(e,function(){Ce(`Cannot call ${e} due to unbound types`,h);},t-1),H([],h,u=>(Lt(e,je(e,[u[0],null].concat(u.slice(1)),null,i,l),t-1),[]));},l:(e,t,a,o,i)=>{if(t=A(t),i===-1&&(i=4294967295),i=u=>u,o===0){var l=32-8*a;i=u=>u<<l>>>l;}var h=t.includes("unsigned")?function(u,f){return f>>>0}:function(u,f){return f};k(e,{name:t,fromWireType:i,toWireType:h,argPackAdvance:8,readValueFromPointer:dn(t,a,o!==0),Ea:null});},g:(e,t,a)=>{function o(l){return new i(Y.buffer,L[l+4>>2],L[l>>2])}var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];a=A(a),k(e,{name:a,fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ib:!0});},w:e=>{k(e,xt);},ca:(e,t,a,o,i,l,h,u,f,p,m,w)=>{a=A(a),l=T(i,l),u=T(h,u),p=T(f,p),w=T(m,w),H([e],[t],C=>(C=C[0],[new he(a,C.xa,!1,!1,!0,C,o,l,u,p,w)]));},D:(e,t)=>{t=A(t);var a=t==="std::string";k(e,{name:t,fromWireType:function(o){var i=L[o>>2],l=o+4;if(a)for(var h=l,u=0;u<=i;++u){var f=l+u;if(u==i||b[f]==0){if(h=h?G(b,h,f-h):"",p===void 0)var p=h;else p+="\\0",p+=h;h=f+1;}}else {for(p=Array(i),u=0;u<i;++u)p[u]=String.fromCharCode(b[l+u]);p=p.join("");}return W(o),p},toWireType:function(o,i){i instanceof ArrayBuffer&&(i=new Uint8Array(i));var l=typeof i=="string";if(!(l||i instanceof Uint8Array||i instanceof Uint8ClampedArray||i instanceof Int8Array))throw new g("Cannot pass non-string to std::string");var h=a&&l?yt(i):i.length,u=Ge(4+h+1),f=u+4;if(L[u>>2]=h,a&&l)gt(i,b,f,h+1);else if(l)for(l=0;l<h;++l){var p=i.charCodeAt(l);if(255<p)throw W(f),new g("String has UTF-16 code units that do not fit in 8 bits");b[f+l]=p;}else for(l=0;l<h;++l)b[f+l]=i[l];return o!==null&&o.push(W,u),u},argPackAdvance:8,readValueFromPointer:oe,Ea(o){W(o);}});},u:(e,t,a)=>{if(a=A(a),t===2)var o=cn,i=un,l=hn,h=u=>re[u>>1];else t===4&&(o=pn,i=fn,l=mn,h=u=>L[u>>2]);k(e,{name:a,fromWireType:u=>{for(var f=L[u>>2],p,m=u+4,w=0;w<=f;++w){var C=u+4+w*t;(w==f||h(C)==0)&&(m=o(m,C-m),p===void 0?p=m:(p+="\\0",p+=m),m=C+t);}return W(u),p},toWireType:(u,f)=>{if(typeof f!="string")throw new g(`Cannot pass non-string to C++ string type ${a}`);var p=l(f),m=Ge(4+p+t);return L[m>>2]=p/t,i(f,m+4,p+t),u!==null&&u.push(W,m),m},argPackAdvance:8,readValueFromPointer:oe,Ea(u){W(u);}});},s:(e,t,a,o,i,l)=>{ge[e]={name:A(t),Ua:T(a,o),Fa:T(i,l),Ya:[]};},j:(e,t,a,o,i,l,h,u,f,p)=>{ge[e].Ya.push({bb:A(t),hb:a,fb:T(o,i),gb:l,nb:h,mb:T(u,f),ob:p});},Z:(e,t)=>{t=A(t),k(e,{ub:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}});},J:()=>{throw 1/0},aa:(e,t,a,o)=>(e=Ve[e],t=Ue(t),e(null,t,a,o)),F:We,$:(e,t,a)=>{var o=yn(e,t),i=o.shift();e--;var l=Array(e);return t=`methodCaller<(${o.map(h=>h.name).join(", ")}) => ${i.name}>`,vn(ue(t,(h,u,f,p)=>{for(var m=0,w=0;w<e;++w)l[w]=o[w].readValueFromPointer(p+m),m+=o[w].argPackAdvance;return u=a===1?gn(u,l):u.apply(h,l),h=[],u=i.toWireType(h,u),h.length&&(L[f>>2]=Me(h)),u}))},ba:e=>{9<e&&(B[e+1]+=1);},_:e=>{var t=Ue(e);Se(t),We(e);},o:(e,t)=>(e=He(e,"_emval_take_value"),e=e.readValueFromPointer(t),Me(e)),W:()=>{ye("");},V:()=>performance.now(),L:e=>{var t=b.length;if(e>>>=0,2147483648<e)return !1;for(var a=1;4>=a;a*=2){var o=t*(1+.2/a);o=Math.min(o,e+100663296);var i=Math;o=Math.max(e,o);e:{i=(i.min.call(i,2147483648,o+(65536-o%65536)%65536)-ve.buffer.byteLength+65535)/65536;try{ve.grow(i),st();var l=1;break e}catch{}l=void 0;}if(l)return !0}return !1},S:(e,t)=>{var a=0;return Pt().forEach((o,i)=>{var l=t+a;for(i=L[e+4*i>>2]=l,l=0;l<o.length;++l)Y[i++]=o.charCodeAt(l);Y[i]=0,a+=o.length+1;}),0},T:(e,t)=>{var a=Pt();L[e>>2]=a.length;var o=0;return a.forEach(i=>o+=i.length+1),L[t>>2]=o,0},t:()=>52,z:()=>52,H:function(){return 70},Q:(e,t,a,o)=>{for(var i=0,l=0;l<a;l++){var h=L[t>>2],u=L[t+4>>2];t+=8;for(var f=0;f<u;f++){var p=b[h+f],m=wn[e];p===0||p===10?((e===1?Nt:Z)(G(m,0)),m.length=0):m.push(p);}i+=u;}return L[o>>2]=i,0},U:(e,t)=>(Tt(b.subarray(e,e+t)),0),i:xn,d:In,e:Fn,p:An,y:Sn,b:Ln,a:bn,h:Tn,n:Pn,G:Rn,K:(e,t,a,o)=>Cn(e,t,a,o)},F=function(){function e(a){return F=a.exports,ve=F.da,st(),R=F.ha,dt.unshift(F.ea),J--,r.monitorRunDependencies?.(J),J==0&&(ae&&(a=ae,ae=null,a())),F}var t={a:Mn};if(J++,r.monitorRunDependencies?.(J),r.instantiateWasm)try{return r.instantiateWasm(t,e)}catch(a){Z(`Module.instantiateWasm callback failed with error: ${a}`),_(a);}return Jt(t,function(a){e(a.instance);}).catch(_),{}}(),Ge=e=>(Ge=F.fa)(e),kt=e=>(kt=F.ga)(e),W=e=>(W=F.ia)(e),D=(e,t)=>(D=F.ja)(e,t),O=e=>(O=F.ka)(e),z=()=>(z=F.la)();r.dynCall_iijj=(e,t,a,o,i,l)=>(r.dynCall_iijj=F.na)(e,t,a,o,i,l),r.dynCall_vijj=(e,t,a,o,i,l)=>(r.dynCall_vijj=F.oa)(e,t,a,o,i,l),r.dynCall_jiii=(e,t,a,o)=>(r.dynCall_jiii=F.pa)(e,t,a,o),r.dynCall_jii=(e,t,a)=>(r.dynCall_jii=F.qa)(e,t,a);var Dt=r.dynCall_viiij=(e,t,a,o,i,l)=>(Dt=r.dynCall_viiij=F.ra)(e,t,a,o,i,l);r.dynCall_jiji=(e,t,a,o,i)=>(r.dynCall_jiji=F.sa)(e,t,a,o,i),r.dynCall_viijii=(e,t,a,o,i,l,h)=>(r.dynCall_viijii=F.ta)(e,t,a,o,i,l,h),r.dynCall_iiiiij=(e,t,a,o,i,l,h)=>(r.dynCall_iiiiij=F.ua)(e,t,a,o,i,l,h),r.dynCall_iiiiijj=(e,t,a,o,i,l,h,u,f)=>(r.dynCall_iiiiijj=F.va)(e,t,a,o,i,l,h,u,f),r.dynCall_iiiiiijj=(e,t,a,o,i,l,h,u,f,p)=>(r.dynCall_iiiiiijj=F.wa)(e,t,a,o,i,l,h,u,f,p);function Ln(e,t){var a=z();try{R.get(e)(t);}catch(o){if(O(a),o!==o+0)throw o;D(1,0);}}function bn(e,t,a){var o=z();try{R.get(e)(t,a);}catch(i){if(O(o),i!==i+0)throw i;D(1,0);}}function Fn(e,t,a,o){var i=z();try{return R.get(e)(t,a,o)}catch(l){if(O(i),l!==l+0)throw l;D(1,0);}}function In(e,t,a){var o=z();try{return R.get(e)(t,a)}catch(i){if(O(o),i!==i+0)throw i;D(1,0);}}function xn(e,t){var a=z();try{return R.get(e)(t)}catch(o){if(O(a),o!==o+0)throw o;D(1,0);}}function An(e,t,a,o,i,l){var h=z();try{return R.get(e)(t,a,o,i,l)}catch(u){if(O(h),u!==u+0)throw u;D(1,0);}}function Pn(e,t,a,o,i){var l=z();try{R.get(e)(t,a,o,i);}catch(h){if(O(l),h!==h+0)throw h;D(1,0);}}function Tn(e,t,a,o){var i=z();try{R.get(e)(t,a,o);}catch(l){if(O(i),l!==l+0)throw l;D(1,0);}}function Sn(e){var t=z();try{R.get(e)();}catch(a){if(O(t),a!==a+0)throw a;D(1,0);}}function Rn(e,t,a,o,i,l){var h=z();try{Dt(e,t,a,o,i,l);}catch(u){if(O(h),u!==u+0)throw u;D(1,0);}}var Fe;ae=function e(){Fe||Ot(),Fe||(ae=e);};function Ot(){function e(){if(!Fe&&(Fe=!0,r.calledRun=!0,!at)){if(Te(dt),c(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;){var t=r.postRun.shift();ct.unshift(t);}Te(ct);}}if(!(0<J)){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)Vt();Te(lt),0<J||(r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("");},1),e();},1)):e());}}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);0<r.preInit.length;)r.preInit.pop()();return Ot(),$}})(),Bt=On;var X=class{constructor(){throw new Error("RendererLoader is a static class and cannot be instantiated.")}static async _tryLoad(n){return await Bt({locateFile:()=>n})}static async _loadWithBackup(){return this._ModulePromise||(this._ModulePromise=this._tryLoad(this._wasmURL).catch(async n=>{let r=`https://unpkg.com/${fe.name}@${fe.version}/dist/dotlottie-player.wasm`;console.warn(`Primary WASM load failed from ${this._wasmURL}. Error: ${n.message}`),console.warn(`Attempting to load WASM from backup URL: ${r}`);try{return await this._tryLoad(r)}catch(c){throw console.error(`Primary WASM URL failed: ${n.message}`),console.error(`Backup WASM URL failed: ${c.message}`),new Error("WASM loading failed from all sources.")}})),this._ModulePromise}static async load(){return this._loadWithBackup()}static setWasmUrl(n){this._wasmURL=n,this._ModulePromise=null;}};I(X,"_ModulePromise",null),I(X,"_wasmURL",`https://cdn.jsdelivr.net/npm/${fe.name}@${fe.version}/dist/dotlottie-player.wasm`);var Ae=class{constructor(){I(this,"_eventListeners",new Map);}addEventListener(n,r){let c=this._eventListeners.get(n);c||(c=new Set,this._eventListeners.set(n,c)),c.add(r);}removeEventListener(n,r){let c=this._eventListeners.get(n);c&&(r?(c.delete(r),c.size===0&&this._eventListeners.delete(n)):this._eventListeners.delete(n));}dispatch(n){this._eventListeners.get(n.type)?.forEach(c=>c(n));}removeAllEventListeners(){this._eventListeners.clear();}};function zn(s){return /^#([\\da-f]{6}|[\\da-f]{8})$/iu.test(s)}function Ut(s){if(!zn(s))return 0;let n=s.replace("#","");return n=n.length===6?`${n}ff`:n,parseInt(n,16)}function Qe(s){if(s.byteLength<4)return !1;let n=new Uint8Array(s.slice(0,xe.byteLength));for(let r=0;r<xe.length;r+=1)if(xe[r]!==n[r])return !1;return !0}function Wt(s){return jt.every(n=>Object.prototype.hasOwnProperty.call(s,n))}function qe(s){if(typeof s=="string")try{return Wt(JSON.parse(s))}catch{return !1}else return Wt(s)}var et=(s,n)=>s==="reverse"?n.Mode.Reverse:s==="bounce"?n.Mode.Bounce:s==="reverse-bounce"?n.Mode.ReverseBounce:n.Mode.Forward,tt=(s,n)=>s==="contain"?n.Fit.Contain:s==="cover"?n.Fit.Cover:s==="fill"?n.Fit.Fill:s==="fit-height"?n.Fit.FitHeight:s==="fit-width"?n.Fit.FitWidth:n.Fit.None,nt=(s,n)=>{let r=new n.VectorFloat;return r.push_back(s[0]),r.push_back(s[1]),r},rt=(s,n)=>{let r=new n.VectorFloat;return s.length!==2||(r.push_back(s[0]),r.push_back(s[1])),r},M=class M{constructor(n){I(this,"_canvas");I(this,"_context",null);I(this,"_eventManager");I(this,"_animationFrameId",null);I(this,"_frameManager");I(this,"_dotLottieCore",null);I(this,"_renderConfig",{});I(this,"_isFrozen",!1);I(this,"_backgroundColor",null);this._canvas=n.canvas,this._context=this._canvas.getContext("2d"),this._eventManager=new Ae,this._frameManager=new Ie,this._renderConfig=n.renderConfig??{},X.load().then(r=>{M._wasmModule=r,this._dotLottieCore=new r.DotLottiePlayer({autoplay:n.autoplay??!1,backgroundColor:0,loopAnimation:n.loop??!1,mode:et(n.mode??"forward",r),segment:rt(n.segment??[],r),speed:n.speed??1,useFrameInterpolation:n.useFrameInterpolation??!0,marker:n.marker??"",layout:n.layout?{align:nt(n.layout.align,r),fit:tt(n.layout.fit,r)}:r.createDefaultLayout()}),this._eventManager.dispatch({type:"ready"}),n.data?this._loadFromData(n.data):n.src&&this._loadFromSrc(n.src),n.backgroundColor&&this.setBackgroundColor(n.backgroundColor);}).catch(r=>{this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to load wasm module: ${r}`)});});}_dispatchError(n){console.error(n),this._eventManager.dispatch({type:"loadError",error:new Error(n)});}async _fetchData(n){let r=await fetch(n);if(!r.ok)throw new Error(`Failed to fetch animation data from URL: ${n}. ${r.status}: ${r.statusText}`);let c=await r.arrayBuffer();return Qe(c)?c:new TextDecoder().decode(c)}_loadFromData(n){if(this._dotLottieCore===null)return;let r=this._canvas.width,c=this._canvas.height,_=!1;if(typeof n=="string"){if(!qe(n)){this._dispatchError("Invalid Lottie JSON string: The provided string does not conform to the Lottie JSON format.");return}_=this._dotLottieCore.loadAnimationData(n,r,c);}else if(n instanceof ArrayBuffer){if(!Qe(n)){this._dispatchError("Invalid dotLottie ArrayBuffer: The provided ArrayBuffer does not conform to the dotLottie format.");return}_=this._dotLottieCore.loadDotLottieData(n,r,c);}else if(typeof n=="object"){if(!qe(n)){this._dispatchError("Invalid Lottie JSON object: The provided object does not conform to the Lottie JSON format.");return}_=this._dotLottieCore.loadAnimationData(JSON.stringify(n),r,c);}else {this._dispatchError(`Unsupported data type for animation data. Expected: \n          - string (Lottie JSON),\n          - ArrayBuffer (dotLottie),\n          - object (Lottie JSON). \n          Received: ${typeof n}`);return}_?(this._eventManager.dispatch({type:"load"}),te&&this.resize(),this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render(),this._dotLottieCore.config().autoplay&&(this._dotLottieCore.play(),this._dotLottieCore.isPlaying()?(this._eventManager.dispatch({type:"play"}),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this))):console.error("something went wrong, the animation was suppose to autoplay"))):this._dispatchError("Failed to load animation data");}_loadFromSrc(n){this._fetchData(n).then(r=>this._loadFromData(r)).catch(r=>this._dispatchError(`Failed to load animation data from URL: ${n}. ${r}`));}get activeAnimationId(){return this._dotLottieCore?.activeAnimationId()}get activeThemeId(){return this._dotLottieCore?.activeThemeId()}get layout(){let n=this._dotLottieCore?.config().layout;if(n)return {align:[n.align.get(0),n.align.get(1)],fit:(()=>{switch(n.fit){case M._wasmModule?.Fit.Contain:return "contain";case M._wasmModule?.Fit.Cover:return "cover";case M._wasmModule?.Fit.Fill:return "fill";case M._wasmModule?.Fit.FitHeight:return "fit-height";case M._wasmModule?.Fit.FitWidth:return "fit-width";case M._wasmModule?.Fit.None:return "none";default:return "contain"}})()}}get marker(){return this._dotLottieCore?.config().marker}get manifest(){try{let n=this._dotLottieCore?.manifestString();if(this._dotLottieCore===null||!n)return null;let r=JSON.parse(n);return Object.keys(r).length===0?null:r}catch{return null}}get renderConfig(){return this._renderConfig}get segment(){let n=this._dotLottieCore?.config().segment;if(n&&n.size()===2)return [n.get(0),n.get(1)]}get loop(){return this._dotLottieCore?.config().loopAnimation??!1}get mode(){let n=this._dotLottieCore?.config().mode;return n===M._wasmModule?.Mode.Reverse?"reverse":n===M._wasmModule?.Mode.Bounce?"bounce":n===M._wasmModule?.Mode.ReverseBounce?"reverse-bounce":"forward"}get isFrozen(){return this._isFrozen}get backgroundColor(){return this._backgroundColor??""}get autoplay(){return this._dotLottieCore?.config().autoplay??!1}get useFrameInterpolation(){return this._dotLottieCore?.config().useFrameInterpolation??!1}get speed(){return this._dotLottieCore?.config().speed??0}get isReady(){return this._dotLottieCore!==null}get isLoaded(){return this._dotLottieCore?.isLoaded()??!1}get isPlaying(){return this._dotLottieCore?.isPlaying()??!1}get isPaused(){return this._dotLottieCore?.isPaused()??!1}get isStopped(){return this._dotLottieCore?.isStopped()??!1}get currentFrame(){return this._dotLottieCore?.currentFrame()??0}get loopCount(){return this._dotLottieCore?.loopCount()??0}get totalFrames(){return this._dotLottieCore?.totalFrames()??0}get duration(){return this._dotLottieCore?.duration()??0}get segmentDuration(){return this._dotLottieCore?.segmentDuration()??0}get canvas(){return this._canvas}load(n){this._dotLottieCore===null||M._wasmModule===null||(this._dotLottieCore.setConfig({autoplay:n.autoplay??!1,backgroundColor:0,loopAnimation:n.loop??!1,mode:et(n.mode??"forward",M._wasmModule),segment:rt(n.segment??[],M._wasmModule),speed:n.speed??1,useFrameInterpolation:n.useFrameInterpolation??!0,marker:n.marker??"",layout:n.layout?{align:nt(n.layout.align,M._wasmModule),fit:tt(n.layout.fit,M._wasmModule)}:M._wasmModule.createDefaultLayout()}),n.data?this._loadFromData(n.data):n.src&&this._loadFromSrc(n.src),this.setBackgroundColor(n.backgroundColor??""));}_render(){if(this._dotLottieCore===null||this._context===null)return !1;if(this._dotLottieCore.render()){let r=this._dotLottieCore.buffer(),c=new Uint8ClampedArray(r,0,this._canvas.width*this._canvas.height*4),_=null;return typeof ImageData>"u"?(_=this._context.createImageData(this._canvas.width,this._canvas.height),_.data.set(c)):_=new ImageData(c,this._canvas.width,this._canvas.height),this._context.putImageData(_,0,0),this._eventManager.dispatch({type:"render",currentFrame:this._dotLottieCore.currentFrame()}),!0}return !1}_draw(){if(this._dotLottieCore===null||this._context===null||!this._dotLottieCore.isPlaying())return;let n=this._dotLottieCore.requestFrame();this._dotLottieCore.setFrame(n)&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render()&&this._dotLottieCore.isComplete()&&(this._dotLottieCore.config().loopAnimation?this._eventManager.dispatch({type:"loop",loopCount:this._dotLottieCore.loopCount()}):this._eventManager.dispatch({type:"complete"}))),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this));}play(){if(this._dotLottieCore===null)return;let n=this._dotLottieCore.play();this._isFrozen=!1,n&&(this._eventManager.dispatch({type:"play"}),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this)));}pause(){if(this._dotLottieCore===null)return;this._dotLottieCore.pause()&&this._eventManager.dispatch({type:"pause"});}stop(){if(this._dotLottieCore===null)return;this._dotLottieCore.stop()&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render(),this._eventManager.dispatch({type:"stop"}));}setFrame(n){if(this._dotLottieCore===null||n<0||n>this._dotLottieCore.totalFrames())return;this._dotLottieCore.seek(n)&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render());}setSpeed(n){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),speed:n});}setBackgroundColor(n){this._dotLottieCore!==null&&(te&&this._canvas instanceof HTMLCanvasElement?this._canvas.style.backgroundColor=n:this._dotLottieCore.setConfig({...this._dotLottieCore.config(),backgroundColor:Ut(n)}),this._backgroundColor=n);}setLoop(n){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),loopAnimation:n});}setUseFrameInterpolation(n){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),useFrameInterpolation:n});}addEventListener(n,r){this._eventManager.addEventListener(n,r);}removeEventListener(n,r){this._eventManager.removeEventListener(n,r);}destroy(){this._dotLottieCore?.delete(),this._dotLottieCore=null,this._context=null,this._eventManager.dispatch({type:"destroy"}),this._eventManager.removeAllEventListeners(),this._cleanupStateMachineListeners();}freeze(){this._animationFrameId!==null&&(this._frameManager.cancelAnimationFrame(this._animationFrameId),this._animationFrameId=null,this._isFrozen=!0,this._eventManager.dispatch({type:"freeze"}));}unfreeze(){this._animationFrameId===null&&(this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this)),this._isFrozen=!1,this._eventManager.dispatch({type:"unfreeze"}));}resize(){if(te&&this._canvas instanceof HTMLCanvasElement){let r=this._renderConfig.devicePixelRatio||window.devicePixelRatio||1,{height:c,width:_}=this._canvas.getBoundingClientRect();this._canvas.width=_*r,this._canvas.height=c*r;}this._dotLottieCore?.resize(this._canvas.width,this._canvas.height)&&this._render();}setSegment(n,r){this._dotLottieCore===null||M._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),segment:rt([n,r],M._wasmModule)});}setMode(n){this._dotLottieCore===null||M._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),mode:et(n,M._wasmModule)});}setRenderConfig(n){this._renderConfig=n;}loadAnimation(n){if(this._dotLottieCore===null||this._dotLottieCore.activeAnimationId()===n)return;this._dotLottieCore.loadAnimation(n,this._canvas.width,this._canvas.height)?(this._eventManager.dispatch({type:"load"}),this.resize()):this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to animation :${n}`)});}setMarker(n){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),marker:n});}markers(){let n=this._dotLottieCore?.markers();if(n){let r=[];for(let c=0;c<n.size();c+=1){let _=n.get(c);r.push({name:_.name,time:_.time,duration:_.duration});}return r}return []}loadTheme(n){if(this._dotLottieCore===null)return !1;let r=this._dotLottieCore.loadTheme(n);return this._render(),r}loadThemeData(n){if(this._dotLottieCore===null)return !1;let r=this._dotLottieCore.loadThemeData(n);return this._render(),r}setLayout(n){this._dotLottieCore===null||M._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),layout:{align:nt(n.align,M._wasmModule),fit:tt(n.fit,M._wasmModule)}});}setViewport(n,r,c,_){return this._dotLottieCore===null?!1:this._dotLottieCore.setViewport(n,r,c,_)}static setWasmUrl(n){X.setWasmUrl(n);}loadStateMachine(n){return this._dotLottieCore?.loadStateMachine(n)??!1}startStateMachine(){let n=this._dotLottieCore?.startStateMachine()??!1;return n&&this._setupStateMachineListeners(),n}stopStateMachine(){let n=this._dotLottieCore?.stopStateMachine()??!1;return n&&this._cleanupStateMachineListeners(),n}_getPointerPosition(n){let r=this._canvas.getBoundingClientRect(),c=this._canvas.width/r.width,_=this._canvas.height/r.height,$=this._renderConfig.devicePixelRatio||window.devicePixelRatio||1,U=(n.clientX-r.left)*c/$,V=(n.clientY-r.top)*_/$;return {x:U,y:V}}_onPointerUp(n){let{x:r,y:c}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerUp: ${r} ${c}`);}_onPointerDown(n){let{x:r,y:c}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerDown: ${r} ${c}`);}_onPointerMove(n){let{x:r,y:c}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerMove: ${r} ${c}`);}_onPointerEnter(n){let{x:r,y:c}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerEnter: ${r} ${c}`);}_onPointerLeave(n){let{x:r,y:c}=this._getPointerPosition(n);this.postStateMachineEvent(`OnPointerExit: ${r} ${c}`);}_onComplete(){this.postStateMachineEvent("OnComplete");}postStateMachineEvent(n){return this._dotLottieCore?.postEventPayload(n)??!1}getStateMachineListeners(){if(!this._dotLottieCore)return [];let n=this._dotLottieCore.stateMachineFrameworkSetup(),r=[];for(let c=0;c<n.size();c+=1)r.push(n.get(c));return r}_setupStateMachineListeners(){if(te&&this._canvas instanceof HTMLCanvasElement&&this._dotLottieCore!==null&&this.isLoaded){let n=this.getStateMachineListeners();n.includes("PointerUp")&&this._canvas.addEventListener("pointerup",this._onPointerUp.bind(this)),n.includes("PointerDown")&&this._canvas.addEventListener("pointerdown",this._onPointerDown.bind(this)),n.includes("PointerMove")&&this._canvas.addEventListener("pointermove",this._onPointerMove.bind(this)),n.includes("PointerEnter")&&this._canvas.addEventListener("pointerenter",this._onPointerEnter.bind(this)),n.includes("PointerExit")&&this._canvas.addEventListener("pointerleave",this._onPointerLeave.bind(this)),n.includes("Complete")&&this.addEventListener("complete",this._onComplete.bind(this));}}_cleanupStateMachineListeners(){te&&this._canvas instanceof HTMLCanvasElement&&(this._canvas.removeEventListener("pointerup",this._onPointerUp.bind(this)),this._canvas.removeEventListener("pointerdown",this._onPointerDown.bind(this)),this._canvas.removeEventListener("pointermove",this._onPointerMove.bind(this)),this._canvas.removeEventListener("pointerenter",this._onPointerEnter.bind(this)),this._canvas.removeEventListener("pointerleave",this._onPointerLeave.bind(this)),this.removeEventListener("complete",this._onComplete.bind(this)));}loadStateMachineData(n){return this._dotLottieCore?.loadStateMachineData(n)??!1}animationSize(){let n=this._dotLottieCore?.animationSize().get(0)??0,r=this._dotLottieCore?.animationSize().get(1)??0;return {width:n,height:r}}setStateMachineBooleanContext(n,r){return this._dotLottieCore?.setStateMachineBooleanContext(n,r)??!1}setStateMachineNumericContext(n,r){return this._dotLottieCore?.setStateMachineNumericContext(n,r)??!1}setStateMachineStringContext(n,r){return this._dotLottieCore?.setStateMachineStringContext(n,r)??!1}};I(M,"_wasmModule",null);var me=M;var E=new Map,jn={ready:s=>n=>{let r={id:"",method:"onReady",result:{instanceId:s,event:n}};self.postMessage(r);},complete:s=>n=>{let r={id:"",method:"onComplete",result:{instanceId:s,event:n}};self.postMessage(r);},load:s=>n=>{let c={id:"",method:"onLoad",result:{instanceId:s,event:n}};self.postMessage(c);},loadError:s=>n=>{let c={id:"",method:"onLoadError",result:{instanceId:s,event:n}};self.postMessage(c);},loop:s=>n=>{let c={id:"",method:"onLoop",result:{instanceId:s,event:n}};self.postMessage(c);},play:s=>n=>{let c={id:"",method:"onPlay",result:{instanceId:s,event:n}};self.postMessage(c);},pause:s=>n=>{let c={id:"",method:"onPause",result:{instanceId:s,event:n}};self.postMessage(c);},stop:s=>n=>{let c={id:"",method:"onStop",result:{instanceId:s,event:n}};self.postMessage(c);},frame:s=>n=>{let c={id:"",method:"onFrame",result:{instanceId:s,event:n}};self.postMessage(c);},render:s=>n=>{let c={id:"",method:"onRender",result:{instanceId:s,event:n}};self.postMessage(c);},freeze:s=>n=>{let c={id:"",method:"onFreeze",result:{instanceId:s,event:n}};self.postMessage(c);},unfreeze:s=>n=>{let c={id:"",method:"onUnfreeze",result:{instanceId:s,event:n}};self.postMessage(c);},destroy:s=>n=>{let c={id:"",method:"onDestroy",result:{instanceId:s,event:n}};self.postMessage(c);}},Ht={getDotLottieInstanceState(s){let n=s.params.instanceId,r=E.get(n);if(!r)throw new Error(`Instance with id ${n} does not exist.`);return {state:{isLoaded:r.isLoaded,isPaused:r.isPaused,isPlaying:r.isPlaying,isStopped:r.isStopped,isFrozen:r.isFrozen,loop:r.loop,mode:r.mode,speed:r.speed,currentFrame:r.currentFrame,totalFrames:r.totalFrames,duration:r.duration,useFrameInterpolation:r.useFrameInterpolation,renderConfig:r.renderConfig,marker:r.marker,backgroundColor:r.backgroundColor,markers:r.markers(),activeAnimationId:r.activeAnimationId,activeThemeId:r.activeThemeId,autoplay:r.autoplay,segment:r.segment,layout:r.layout,segmentDuration:r.segmentDuration,isReady:r.isReady,manifest:r.manifest}}},setLayout(s){let n=s.params.instanceId,r=s.params.layout,c=E.get(n);if(!c)throw new Error(`Instance with id ${n} does not exist.`);return c.setLayout(r),{success:!0}},getStateMachineListeners(s){let n=s.params.instanceId,r=E.get(n);if(!r)throw new Error(`Instance with id ${n} does not exist.`);return r.getStateMachineListeners()},postStateMachineEvent(s){let n=s.params.instanceId,r=s.params.event,c=E.get(n);if(!c)throw new Error(`Instance with id ${n} does not exist.`);return c.postStateMachineEvent(r)},startStateMachine(s){let n=s.params.instanceId,r=E.get(n);if(!r)throw new Error(`Instance with id ${n} does not exist.`);return r.startStateMachine()},stopStateMachine(s){let n=s.params.instanceId,r=E.get(n);if(!r)throw new Error(`Instance with id ${n} does not exist.`);return r.stopStateMachine()},loadStateMachine(s){let n=s.params.instanceId,r=s.params.stateMachineId,c=E.get(n);if(!c)throw new Error(`Instance with id ${n} does not exist.`);return c.loadStateMachine(r)},loadStateMachineData(s){let n=s.params.instanceId,r=s.params.stateMachineData,c=E.get(n);if(!c)throw new Error(`Instance with id ${n} does not exist.`);return c.loadStateMachineData(r)},create:s=>{let n=s.params.instanceId,r=s.params.config,c=s.params.width,_=s.params.height;if(E.has(n))throw new Error(`Instance with id ${n} already exists.`);let $=new me(r);return $.canvas.height=_,$.canvas.width=c,E.set(n,$),["complete","frame","load","loadError","loop","pause","play","stop","destroy","freeze","unfreeze","render","ready"].forEach(V=>{$.addEventListener(V,jn[V](n));}),{instanceId:n}},destroy:s=>{let n=s.params.instanceId,r=E.get(n);r&&(r.destroy(),E.delete(n));},freeze:s=>{let n=s.params.instanceId,r=E.get(n);if(!r)throw new Error(`Instance with id ${n} does not exist.`);r.freeze();},load:s=>{let n=s.params.instanceId,r=s.params.config,c=E.get(n);if(!c)throw new Error(`Instance with id ${n} does not exist.`);c.load(r);},loadAnimation:s=>{let n=s.params.instanceId,r=s.params.animationId,c=E.get(n);if(!c)throw new Error(`Instance with id ${n} does not exist.`);c.loadAnimation(r);},loadTheme:s=>{let n=s.params.instanceId,r=s.params.themeId,c=E.get(n);if(!c)throw new Error(`Instance with id ${n} does not exist.`);return c.loadTheme(r)},loadThemeData:s=>{let n=s.params.instanceId,r=s.params.themeData,c=E.get(n);if(!c)throw new Error(`Instance with id ${n} does not exist.`);return c.loadThemeData(r)},pause:s=>{let n=s.params.instanceId,r=E.get(n);if(!r)throw new Error(`Instance with id ${n} does not exist.`);return r.pause()},play:s=>{let n=s.params.instanceId,r=E.get(n);if(!r)throw new Error(`Instance with id ${n} does not exist.`);return r.play()},resize:s=>{let n=s.params.instanceId,r=s.params.width,c=s.params.height,_=E.get(n);if(!_)throw new Error(`Instance with id ${n} does not exist.`);return _.canvas.height=c,_.canvas.width=r,_.resize(),{success:!0}},setBackgroundColor:s=>{let n=s.params.instanceId,r=s.params.backgroundColor,c=E.get(n);if(!c)throw new Error(`Instance with id ${n} does not exist.`);c.setBackgroundColor(r);},setFrame:s=>{let n=s.params.instanceId,r=s.params.frame,c=E.get(n);if(!c)throw new Error(`Instance with id ${n} does not exist.`);c.setFrame(r);},setMode:s=>{let n=s.params.instanceId,r=s.params.mode,c=E.get(n);if(!c)throw new Error(`Instance with id ${n} does not exist.`);c.setMode(r);},setRenderConfig:s=>{let n=s.params.instanceId,r=s.params.renderConfig,c=E.get(n);if(!c)throw new Error(`Instance with id ${n} does not exist.`);c.setRenderConfig(r);},setSegment:s=>{let n=s.params.instanceId,r=s.params.segment,c=E.get(n);if(!c)throw new Error(`Instance with id ${n} does not exist.`);c.setSegment(r[0],r[1]);},setSpeed:s=>{let n=s.params.instanceId,r=s.params.speed,c=E.get(n);if(!c)throw new Error(`Instance with id ${n} does not exist.`);c.setSpeed(r);},setUseFrameInterpolation:s=>{let n=s.params.instanceId,r=s.params.useFrameInterpolation,c=E.get(n);if(!c)throw new Error(`Instance with id ${n} does not exist.`);c.setUseFrameInterpolation(r);},setWasmUrl:s=>{me.setWasmUrl(s.params.url);},stop:s=>{let n=s.params.instanceId,r=E.get(n);if(!r)throw new Error(`Instance with id ${n} does not exist.`);r.stop();},unfreeze:s=>{let n=s.params.instanceId,r=E.get(n);if(!r)throw new Error(`Instance with id ${n} does not exist.`);r.unfreeze();},setViewport(s){let n=s.params.instanceId,r=s.params.x,c=s.params.y,_=s.params.width,$=s.params.height,U=E.get(n);if(!U)throw new Error(`Instance with id ${n} does not exist.`);return U.setViewport(r,c,_,$)},setMarker(s){let n=s.params.instanceId,r=s.params.marker,c=E.get(n);if(!c)throw new Error(`Instance with id ${n} does not exist.`);return c.setMarker(r),{success:!0}},setLoop(s){let n=s.params.instanceId,r=s.params.loop,c=E.get(n);if(!c)throw new Error(`Instance with id ${n} does not exist.`);return c.setLoop(r),{success:!0}}};function Bn(s){let n=s.method;if(typeof Ht[n]=="function")return Ht[n](s);throw new Error(`Method ${n} is not implemented in commands.`)}self.onmessage=s=>{try{let n=Bn(s.data),r={id:s.data.id,method:s.data.method,result:n};self.postMessage(r);}catch(n){let r={id:s.data.id,method:s.data.method,error:n.message};self.postMessage(r);}};var Wn="",fr=Wn;\n\nexport { fr as default };\n'],{type:"application/javascript"});return new Worker(URL.createObjectURL(e),{type:"module",name:t})}getWorker(t){return this._workers.has(t)||this._workers.set(t,this._createWorker(t)),this._workers.get(t)}assignAnimationToWorker(t,e){this._animationWorkerMap.set(t,e)}unassignAnimationFromWorker(t){this._animationWorkerMap.delete(t)}sendMessage(t,e,n){this.getWorker(t).postMessage(e,n||[])}terminateWorker(t){let e=this._workers.get(t);e&&(e.terminate(),this._workers.delete(t))}}),n(F,"_wasmUrl","");const E={spin:[1,240],success:[241,399],fail:[539,825]},S=new b({canvas:document.querySelector("#lottie-player"),loop:!0,autoplay:!0,src:"https://lottie.host/5df0a64e-a883-45ec-a9b4-c09886a98295/H4elnU5DE2.lottie",segment:E.spin});function P({infoText:t,subTitle:e}){S.addEventListener("frame",(t=>{S.setSegment(E.fail[0],E.fail[1]),S.setSpeed(2),S.setLoop(!1)})),t.innerText="Sorry! There was a problem submitting your response",e.innerText="Please try again later"}!async function(){console.log("Form submitting");const t={};t.infoText=document.querySelector(".infotext"),t.subTitle=document.querySelector(".subtitle"),t.infoText.innerText="Submitting your response",t.subTitle.innerText="please wait...";let e=new URLSearchParams(document.location.search);const n=e.get("score")||null,a=e.get("campaign")||null;if(!n){P(t);let e=new Error("Score is not set",{cause:"Score not set"});return console.error(e),e}if(!a){P(t);let e=new Error("Campaign is not set",{cause:"Campaign not set"});return console.error(e),e}window.history.replaceState({},document.title,"/");const r=`/.netlify/functions/submit?${e}`;try{const e=await fetch(r);if(!e.ok){const t=await e.json();throw new Error(t.error)}return console.log(e),console.log("Form submitted"),function({infoText:t,subTitle:e}){S.addEventListener("frame",(t=>{S.setSegment(E.success[0],E.success[1]),S.setSpeed(2),S.setLoop(!1)})),t.innerText="Thank you! Your response has been submitted",e.innerText="(You can close this window now)"}(t),await e.json()}catch(e){return console.log("Form error"),P(t),console.error(e),e}}()})();